<div class="container-fluid">
  <div class="page-title">
      <h4 class="pull-left">Egresos</h4>
      <button class="pull-right btn btn-info" (click)="ModalEgreso.show()">
          <i class="ti-plus"></i>Agregar nuevo egreso</button>
  </div>
  <div class="clearfix"></div>
  <div class="row">
      <div class="col-md-12">
          <div class="widget card">
              <div class="card-block">
                  <p>Nuestros egresos</p>
                  <div class="table-overflow">
                      <table class="table table-hover table-sm table-striped">
                          <thead>
                              <tr>
                                  <th style="width:150px;">Fecha</th>
                                  <th>Funcionario</th>
                                  <th>Grupo</th>
                                  <th>Tercero</th>
                                  <th>Moneda</th>
                                  <th style="width:80px">Valor</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr *ngFor="let Egreso of Egresos">
                                  <td>{{Egreso.Fecha | date:"dd/MM/yy" }}</td>
                                  <td>{{Egreso.Identificacion_Funcionario}}</td>
                                  <td>{{Egreso.Grupo}}</td>
                                  <td>{{Egreso.Tercero}}</td>
                                  <td>{{Egreso.Moneda}}</td>
                                  <td class="text-right">{{Egreso.Valor | currency }}</td>
                                  <td class="text-center">
                                      <button class="btn btn-default btn-xs" type="button" style="margin:0;">
                                          <i class="ti-search"></i>
                                      </button>
                                      <button class="btn btn-default btn-xs" type="button" style="margin:0;" (click)="EditarTraslado(traslado.Id_Traslado, ModalEditarTraslado)">
                                          <i class="ti-pencil"></i>
                                      </button>
                                      <button class="btn btn-default btn-xs" type="button" style="margin:0;" 
                                          [swal]="{title:'¿Está Seguro?',text : 'Se dispone a Anular esta Transferencia, esta acción no se puede revertir' , type:'warning', showCancelButton: true, confirmButtonText: 'Si, Eliminar', cancelButtonText:'No, Dejame Comprobar!'}"
                                          (confirm)="EliminarTraslado(traslado.Id_Traslado)">
                                          <i class="ti-trash"></i>
                                      </button>
                                  </td>
                              </tr>
                          </tbody>
                      </table>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>

<app-modal-basic [dialogClass]="'modal-lg'" id="ModalEgreso" #ModalEgreso>
  <div class="app-modal-header">
    <h4>Nuevo Egreso</h4>
  </div>
  <div class="app-modal-body">
    <form #FormEgreso="ngForm">
      <div class="col-md-4" hidden>
        <div class="form-group">
          <label>Identificación</label>
          <input name="Identificacion_Funcionario" type="text" placeholder="Identificación" class="form-control" ngModel="{{IdentificacionFuncionario}}" required>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <label>Grupo</label>
            <select class="form-control" required name="Id_Grupo" ngModel="" (change)="ListaTerceros($event.target.value)">
              <option value="">Seleccione un grupo</option>
              <option *ngFor="let Grupo of Grupos" value="{{Grupo.Id_Grupo}}">{{Grupo.Nombre}}</option>              
            </select>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>Tercero</label>
            <select class="form-control" required name="Id_Tercero" ngModel="">
              <option value="">Seleccione un tercero</option>
              <option *ngFor="let Tercero of Terceros" value="{{Tercero.Id_Tercero}}">{{Tercero.Nombre}}</option>              
            </select>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>Moneda</label>
            <select class="form-control" required name="Moneda" ngModel="">
              <option value="">Seleccione una moneda</option>
              <option *ngFor="let Moneda of Monedas" value="{{Moneda.Nombre}}">{{Moneda.Nombre}}</option>              
            </select>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>Valor</label>
            <input type="text" name="Valor" ngModel="" class="form-control" placeholder="Valor">
          </div>
        </div>
      </div>
      <div class="row">
          <div class="col-md-12">
              <div class="form-group">
                  <label>Detalles</label>
                  <textarea class="form-control" placeholder="Detalles de Cuenta Bancaria" name="Detalle" ngModel=""></textarea>
              </div>
          </div>
      </div>
      <div class="modal-footer no-border">
          <div class="text-right">
              <button class="btn btn-primary btn-sm" (click)="GuardarEgreso(FormEgreso, ModalEgreso)">Guardar</button>
          </div>
      </div>
    </form>
  </div>        
</app-modal-basic>
