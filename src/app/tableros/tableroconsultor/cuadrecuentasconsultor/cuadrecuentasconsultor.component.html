<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">CUADRE DE CUENTAS - Cuenta: {{CuentaBancariaModel.Apodo}}({{CuentaBancariaModel.Numero_Cuenta}})</div>
        <div class="card-body">
          <table class="table table-hover table-sm table-striped table-bordered custom-table">
            <thead>
              <tr>
                <th class="custom-thead" style="width:8%;">Fecha</th>
                <th class="custom-thead" style="width:12%;">Recibo</th>
                <!-- <th class="custom-thead" >Detalle</th> -->
                <th class="custom-thead" class="text-center" style="width:10%">Monto</th>
                <!-- <th class="custom-thead" class="text-center" style="width:10%">Egreso</th> -->
                <th class="custom-thead" class="text-center" style="width:10%">Saldo</th>
                <th class="custom-thead" class="text-center" style="width:6%;"></th>
              </tr>
              <tr *ngIf="Movimientos.length == 0">
                <td colspan="5" class="text-center">
                  <i class="ti-alert font-size-20 text-warning"></i>
                  <h4>No se encontraron movimientos en esta cuenta!</h4>
              </td>
              </tr>
            </thead>
            <tbody *ngIf="Movimientos.length > 0">
              <!-- <tr *ngIf="MostrarTotales">
                <td colspan="3" class="text-center custom-cell">Total</td>
                <td class="text-right custom-cell" appColorsaldo [value]="MovimientosCuentaBancaria.totales.ingreso">{{MovimientosCuentaBancaria.totales.ingreso | customcurrency:MovimientosCuentaBancaria.totales.codigo_moneda}}</td>
                <td class="text-right custom-cell" appColorsaldo [value]="MovimientosCuentaBancaria.totales.egreso">{{MovimientosCuentaBancaria.totales.egreso | customcurrency:MovimientosCuentaBancaria.totales.codigo_moneda}}</td>
                <td class="text-right custom-cell" appColorsaldo [value]="MovimientosCuentaBancaria.totales.balance">{{MovimientosCuentaBancaria.totales.balance | customcurrency:MovimientosCuentaBancaria.totales.codigo_moneda}}</td>
                <td class="custom-cell"></td>
              </tr> -->
              <tr *ngFor="let m of Movimientos ; let i = index" 
                [ngClass]="{'bg-anulada':m.Estado == 'Anulado'}">
                <td class="text-right custom-cell">{{m.Fecha | date : "dd/MM/yyyy" }}</td>
                <td class="custom-cell">{{m.Recibo}}</td>
                <td class="custom-cell">{{m.Detalle}}</td>
                <td class="text-right custom-cell" appColorsaldo [value]="m.Ingreso" [altColor]="m.Estado == 'Anulado' ? 'white' : ''">{{m.Ingreso | customcurrency:m.Codigo_Moneda}}</td>
                <td class="text-right custom-cell" appColorsaldo [value]="m.Egreso" [altColor]="m.Estado == 'Anulado' ? 'white' : ''">{{m.Egreso | customcurrency:m.Codigo_Moneda}}</td>
                <td class="text-right custom-cell" appColorsaldo [value]="m.Total" [altColor]="m.Estado == 'Anulado' ? 'white' : ''">{{m.Total | customcurrency:m.Codigo_Moneda}}</td>
                <td>
                  <div class="text-center">
                    <div ngbDropdown class="dropdown-primary">
                      <button ngbDropdownToggle class="btn btn-outline-primary btn-xs btn-rounded waves-effect waves-light " type="button"><i class="ti-angle-down"></i></button>
                      <div ngbDropdownMenu>
                        <a *ngIf="m.Estado != 'Anulada'" class="dropdown-item waves-light waves-effect caja-botones accionable">
                          <i class="ti-pencil text-warning"></i> Devolución</a>
                        <!-- <a class="dropdown-item waves-light waves-effect caja-botones accionable" (confirm)="AnularMovimientoTercero(m.Id_Movimiento_Tercero)"
                          [swal]="{title : '¿Está Seguro?', text: 'Se dispone a cambiar el estado de esta oficina' , type : 'warning', showCancelButton : true , confirmButtonText: 'Si, Cambiar',cancelButtonText: 'No!'}">
                            <i [ngClass]="{'ti-na text-danger':m.Estado == 'Activo', 'ti-back-right text-success':m.Estado == 'Anulado'}"></i> 
                            {{m.Estado == 'Activo' ? 'Anular' : 'Activar'}}</a> -->
                      </div>
                    </div>
                  </div>
                  <!-- <div *ngIf="m.Movimiento === 'Ajuste' && m.Estado != 'Anulado'" class="text-center">
                    <div ngbDropdown class="dropdown-primary">
                      <button ngbDropdownToggle class="btn btn-outline-primary btn-xs btn-rounded waves-effect waves-light " type="button"><i class="ti-angle-down"></i></button>
                      <div ngbDropdownMenu>
                        <a *ngIf="m.Estado != 'Anulado'" class="dropdown-item waves-light waves-effect caja-botones accionable" (click)="AbrirModal(m.Id_Movimiento_Tercero)">
                          <i class="ti-pencil text-warning"></i> Editar</a>
                        <a *ngIf="m.Estado == 'Activo'" class="dropdown-item waves-light waves-effect caja-botones accionable" (confirm)="AnularMovimientoTercero(m.Id_Movimiento_Tercero)"
                          [swal]="{title : '¿Está Seguro?', text: 'Se dispone a cambiar el estado de esta oficina' , type : 'warning', showCancelButton : true , confirmButtonText: 'Si, Cambiar',cancelButtonText: 'No!'}">
                            <i [ngClass]="{'ti-na text-danger':m.Estado == 'Activo', 'ti-back-right text-success':m.Estado == 'Anulado'}"></i> 
                            {{m.Estado == 'Activo' ? 'Anular' : 'Activar'}}</a>
                      </div>
                    </div>
                  </div> -->
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="card-footer">
          <button type="button" class="btn btn-outline-primary btn-rounded btn-sm"
            (click)="Siguiente()">Cuadrar Cuenta
          </button>
        </div>
      </div>
    </div>
  </div>
</div>