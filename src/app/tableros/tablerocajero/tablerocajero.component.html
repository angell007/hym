<div class="container-fluid ">
  <div class="col-md-12">
    <div class="row">
      <div class="col-md-3 ">
        <sticky [sticky-offset-top]="105">



          <a href="#cambios" scrollTo class="card my-2 py-0 scroll-to"
            (click)="muestra_tabla('cambios'); ActivarCard('cambios')"
            [ngClass]="{'card-selected': CardSelection.cambios, 'card-tremor': !CardSelection.cambios}">
            <div class="card-block padding-5">
              <ul class="list-unstyled list-info">
                <li>
                  <span class="thumb-img pdd-top-10">
                    <i class="ti-calendar text-primary font-size-30"></i>
                  </span>
                  <div class="info">
                    <b class="text-dark font-size-18">Cambios Efectivo</b>
                    <p class="no-mrg-btm ">Compras o Ventas</p>
                  </div>
                </li>
              </ul>
            </div>
          </a>


          <a href="#transferencias" scrollTo class="card my-2 py-0 scroll-to"
            (click)="muestra_tabla('transferencias'); ActivarCard('trans')"
            [ngClass]="{'card-selected': CardSelection.trans, 'card-tremor': !CardSelection.trans}">
            <div class="card-block padding-5">
              <ul class="list-unstyled list-info">
                <li>
                  <span class="thumb-img pdd-top-10">
                    <i class="ti-control-shuffle text-primary font-size-30"></i>
                  </span>
                  <div class="info">
                    <b class="text-dark font-size-18">Recibos</b>
                    <p class="no-mrg-btm ">A cuentas Extranjeras</p>
                  </div>
                </li>
              </ul>
            </div>
          </a>
          <a href="#giros" scrollTo class="card my-2 py-0 scroll-to"
            (click)="muestra_tabla('giros'); ActivarCard('giros')"
            [ngClass]="{'card-selected': CardSelection.giros, 'card-tremor': !CardSelection.giros}">
            <div class="card-block padding-5">
              <ul class="list-unstyled list-info">
                <li>
                  <span class="thumb-img pdd-top-10">
                    <i class="ti-wallet text-success font-size-30"></i>
                  </span>
                  <div class="info">
                    <b class="text-dark font-size-18">Giros</b>
                    <p class="no-mrg-btm">Envío/Recepción Dinero</p>
                  </div>
                </li>
              </ul>
            </div>
          </a>

          <a href="#egresos" scrollTo class="card my-2 py-0 scroll-to"
            (click)="muestra_tabla('egresos'); ActivarCard('egresos')"
            [ngClass]="{'card-selected': CardSelection.egresos, 'card-tremor': !CardSelection.egresos}">
            <div class="card-block padding-5">
              <ul class="list-unstyled list-info">
                <li>
                  <span class="thumb-img pdd-top-10">
                    <i class="ti-ticket text-danger font-size-30"></i>
                  </span>
                  <div class="info">
                    <b class="text-dark font-size-18">Egresos</b>
                    <p class="no-mrg-btm">Gestion de Egresos</p>
                  </div>
                </li>
              </ul>
            </div>
          </a>




          <a href="#corresponsal" scrollTo class="card my-2 py-0 scroll-to"
            (click)="muestra_tabla('corresponsal'); ActivarCard('corresponsal')"
            [ngClass]="{'card-selected': CardSelection.corresponsal, 'card-tremor': !CardSelection.corresponsal}">
            <div class="card-block padding-5">
              <ul class="list-unstyled list-info">
                <li>
                  <span class="thumb-img pdd-top-10">
                    <i class="ti-money text-warning font-size-30"></i>
                  </span>
                  <div class="info">
                    <b class="text-dark font-size-18">Corresponsal Bancario</b>
                    <p class="no-mrg-btm">Saldo del día</p>
                  </div>
                </li>
              </ul>
            </div>
          </a>

          <a href="#servicios" scrollTo class="card my-2 py-0 scroll-to"
            (click)="muestra_tabla('servicios'); ActivarCard('servicios')"
            [ngClass]="{'card-selected': CardSelection.servicios, 'card-tremor': !CardSelection.servicios}">
            <div class="card-block padding-5">
              <ul class="list-unstyled list-info">
                <li>
                  <span class="thumb-img pdd-top-10">
                    <i class="ti-truck text-danger font-size-30"></i>
                  </span>
                  <div class="info">
                    <b class="text-dark font-size-18">Servicios Externos</b>
                    <p class="no-mrg-btm">Consignaciones, Pagos, Trámites </p>
                  </div>
                </li>
              </ul>
            </div>
          </a>

          <a href="#cajeros" scrollTo class="card my-2 py-0 scroll-to" *ngIf="this.Perfil.Id_Perfil  == '2'"
            (click)="muestra_tabla('cajeros'); ActivarCard('cajeros')"
            [ngClass]="{'card-selected': CardSelection.cajeros, 'card-tremor': !CardSelection.cajeros}">
            <div class="card-block padding-5">
              <ul class="list-unstyled list-info">
                <li>
                  <span class="thumb-img pdd-top-10">
                    <i class="ti-desktop text-success font-size-30"></i>
                  </span>
                  <div class="info">
                    <b class="text-dark font-size-18">Cajeros Aperturados</b>
                    <p class="no-mrg-btm ">Gestion de Cajeros</p>
                  </div>
                </li>
              </ul>
            </div>
          </a>


          <a href="#traslados" scrollTo class="card my-2 py-0 scroll-to"
            (click)="muestra_tabla('traslados'); ActivarCard('traslados')"
            [ngClass]="{'card-selected': CardSelection.traslados, 'card-tremor': !CardSelection.traslados }">
            <div class="card-block padding-5">
              <ul class="list-unstyled list-info">
                <li>
                  <span class="thumb-img pdd-top-10">
                    <i class="ti-ticket text-info font-size-30"></i>
                  </span>
                  <div class="info">
                    <b class="text-dark font-size-18">Traslados </b>
                    <p class="no-mrg-btm">Entre Cajas de la Empresa</p>
                  </div>
                </li>
              </ul>
            </div>
          </a>

          <a href="#otrotraslados" scrollTo class="card my-2 py-0 scroll-to" *ngIf="this.Perfil.Id_Perfil  == '2'"
            (click)="muestra_tabla('otrotraslados'); ActivarCard('otrotraslados')"
            [ngClass]="{'card-selected': CardSelection.otrotraslados, 'card-tremor': !CardSelection.otrotraslados }">
            <div class="card-block padding-5">
              <ul class="list-unstyled list-info">
                <li>
                  <span class="thumb-img pdd-top-10">
                    <i class="ti-share-alt text-dark font-size-30"></i>
                  </span>
                  <div class="info">
                    <b class="text-dark font-size-18">Otros Traslados </b>
                    <p class="no-mrg-btm">Gestión de Traslados </p>
                  </div>
                </li>
              </ul>
            </div>
          </a>
        </sticky>
      </div>

      <div class="col-md-9 contenido">
        <div class="card modulos" id="cambios">
          <div class="card-block">
            <ul class="list-unstyled list-info">
              <li>
                <span class="thumb-img pdd-top-10">
                  <i class="ti-calendar text-primary font-size-30"></i>
                </span>
                <div class="info">
                  <b class="text-dark font-size-22">Cambios Efectivo</b>
                  <p class="no-mrg-btm ">{{tituloCambio}}</p>
                </div>
              </li>
            </ul>
            <div class="mrg-top-10" style="min-height: 470px;">
              <div class="row justify-content-center h-100" id="cambios1" *ngIf="Cambios1">

                <div class="col-md-4">
                  <button (click)="CambiarVista('Cambio');CambiarVista('Compra');"
                    class="btn btn-info btn-block mrg-top-10 btn-grande font-size-18">Compra</button>
                </div>
                <div class="col-md-4">
                  <button (click)="CambiarVista('Cambio');CambiarVista('Venta')"
                    class="btn btn-success btn-block mrg-top-10 btn-grande font-size-18">Venta</button>
                </div>

                <div class="col-md-12">

                  <div class="card">
                    <div class="card-block">
                      <div class="tab-success">

                        <div class="card-body">
                          <h5>Últimos Cambios Registrados</h5>
                          <table class="table table-striped table-sm table-bordered">
                            <thead class="rounded">
                              <tr>
                                <th class="custom-thead">Hora</th>
                                <th class="custom-thead">Código</th>
                                <th class="custom-thead">Tipo</th>
                                <th class="custom-thead">Recibido</th>
                                <th class="custom-thead">Devuelto</th>
                                <th class="custom-thead">Entregado</th>
                                <th class="custom-thead">Total</th>
                                <th class="custom-thead">Tasa</th>
                                <th class="custom-thead">Acciones</th>
                              </tr>
                              <tr>
                                <th class="table-filters"></th>

                                <th class="table-filters">
                                  <input type="text" class="form-control" placeholder="Filtro código"
                                    (change)="fc.ConsultaFiltrada()" [(ngModel)]="fc.Filtros.codigo">
                                </th>

                                <th class="table-filters">
                                  <select id="grupo" class="form-control" (change)="fc.ConsultaFiltrada()"
                                    [(ngModel)]="fc.Filtros.tipo">
                                    <option value="">Todos</option>
                                    <option value="Compra">Compra</option>
                                    <option value="Venta">Venta</option>
                                  </select>
                                </th>

                                <th class="table-filters"></th>
                                <th class="table-filters"></th>
                                <th class="table-filters"></th>
                                <th class="table-filters"></th>

                                <!-- <tr *ngIf="Cargando">
                                <td colspan="7" class="text-center">
                                  <div style="text-align: center; margin-top:10px; margin-bottom:10px;">
                                    <h2>CARGANDO CAMBIOS</h2>
                                    <img src="{{RutaGifCargando}}" style="width:250px;" alt="CARGANDO">
                                  </div>
                                </td>
                              </tr> -->

                                <!-- //TODO: validar cargando de cambios  -->
                              <tr *ngIf="fc.Cambios.length == 0 && !Cargando">
                                <td colspan="9" class="text-center">
                                  <i class="ti-alert font-size-20 text-warning"></i>
                                  <h4>No hay Cambios para mostrar!</h4>
                                </td>
                              </tr>

                            </thead>

                            <tbody>
                              <tr
                                *ngFor="let cambio of fc.Cambios | paginate: {  id: 'cambios', itemsPerPage: fc.pageSize, currentPage: fc.page, totalItems: TotalItems }"
                                [ngClass]="{'bg-anulada':cambio.Estado == 'Anulado'}">
                                <td class="text-center" style="font-size: 14px;">{{cambio.Fecha | date:"HH:mm" }}
                                </td>
                                <td class="text-center" style="font-size: 14px;">{{cambio.Codigo}}</td>
                                <td class="text-center" style="font-size: 14px;">{{cambio.Tipo}}</td>
                                <td class="text-right" style="font-size: 14px;">
                                  {{cambio.Valor_Origen | customcurrency:cambio.Codigo_Moneda_Origen}}
                                </td>
                                <td class="text-right" style="font-size: 14px;">
                                  {{cambio.valor_recibido | customcurrency: ' '}}
                                </td>
                                <td class="text-right" style="font-size: 14px;">
                                  {{cambio.Valor_Destino | customcurrency:cambio.Codigo_Moneda_Destino}}
                                </td>

                                <td class="text-right" style="font-size: 14px;">
                                  {{cambio.venta_final | customcurrency: ' '}}
                                </td>

                                <td class="text-right " style="font-size: 14px;">{{cambio.Tasa}}</td>

                                <td class="text-center">
                                  <button class="clean-btn-table" type="button" title="Ver Decoluciones"
                                    style="margin:0;" *ngIf="cambio.Tipo != 'Compra' || cambio.Estado != 'Anulado'"
                                    (click)="verDevoluciones(cambio.Id_Cambio,AbrirModalverDevoluciones) ">
                                    <i class="ti-eye text-warning" style="font-size: 14px;"></i>
                                  </button>

                                  <button class="clean-btn-table" type="button" title="Ver cambio" style="margin:0;"
                                    (click)="VerCambio(cambio.Id_Cambio,ModalVerCambio)">
                                    <i class="ti-search text-primary" style="font-size: 14px;"></i>
                                  </button>

                                  <button class="clean-btn-table" type="button" title="Devolver cambio"
                                    style="margin:0;" *ngIf="cambio.Tipo != 'Compra'"
                                    (click)="devolverCambio(cambio.Id_Cambio,AbrirModalDevolucion) ">
                                    <i class="ti-shift-left text-info" style="font-size: 14px;"></i>
                                  </button>

                                  <button class="clean-btn-table" type="button" title="Imprimir cambio"
                                    style="margin:0;" (click)="printCambio(cambio.Id_Cambio)">
                                    <i class="ti-desktop text-warnin" style="font-size: 14px;"></i>
                                  </button>

                                  <button class="clean-btn-table" type="button" style="margin:0;"
                                    *ngIf="cambio.Estado != 'Anulado'"
                                    [swal]="{title:'¿Está Seguro?',text : 'Se dispone a anular este cambio, esta acción no se puede revertir' , type:'warning', showCancelButton: true, confirmButtonText: 'Si, Anular', cancelButtonText:'No, Dejame Comprobar!'}"
                                    (confirm)="AnulaCambio(cambio.Id_Cambio)">
                                    <i class="ti-trash text-danger" style="font-size: 14px;"></i>
                                  </button>
                                </td>

                              </tr>
                            </tbody>
                          </table>
                          <div id="paginacion-container" *ngIf=" fc.Cambios.length > 0">
                            <div class="row">
                              <div class="col-md-12">

                                <pagination-controls id="cambios" (pageChange)="fc.page = $event "
                                  previousLabel="Anterior" nextLabel="Siguiente" responsive="true">
                                </pagination-controls>

                              </div>

                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>

                </div>
              </div>

              <div class="row" id="cambios2" *ngIf="Cambios2" style="margin-top: 50px">
                <div class="col-md-12">
                  <form #FormMoneda="ngForm">
                    <div class="row">


                      <div class="col-md-6">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">
                          Tipo de Tercero
                        </label>

                        <select class="inputfield font-size-18  form-control form-control-lg" #selectCustomClient
                          (change)="limpiarImputCliente()">
                          <option value=""> Publico</option>
                          <option value="Cliente">Clientes</option>
                          <option value="Proveedor">Proveedores</option>
                        </select>
                      </div>


                      <div class="col-md-6">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">
                          Tercero
                        </label>


                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Número de documento
                                <i class="ti-pencil text-info pl-2 font-size-17" style="cursor:pointer;"
                                  *ngIf="EditarRemitenteGiro"
                                  (click)="EditarPersonaGiro(GiroModel.Documento_Remitente, 'remitente', 'editar desde giro')"></i>
                                <i class="ti-plus text-success pl-2 font-size-17" style="cursor:pointer;"
                                  *ngIf="CrearRemitenteGiro"
                                  (click)="EditarPersonaGiro(Remitente_Giro, 'remitente', 'crear desde giro')"></i>
                              </label>
                              <input name="Id_Tercero" id="Id_Tercero" type="text" class="form-control font-size-18"
                                placeholder="Número Documento" name="Documento_Remitente" autocomplete="off"
                                [ngbTypeahead]="search_destino3" [resultTemplate]="clienteCambioCompra"
                                [(ngModel)]="CambioModel.Id_Tercero" [inputFormatter]="formatterClienteCambioCompra"
                                (ngModelChange)="CambioModel.Id_Tercero">
                            </div>
                          </div>
                        </div>

                      </div>

                      <div class="col-md-6">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">
                          {{ !Venta ? 'Moneda que compra' : 'Moneda que recibe'}}
                        </label>
                        <select *ngIf="!Venta" class="inputfield font-size-18  form-control form-control-lg"
                          placeholder="Origen" id="Origen" name="Origen"
                          (change)="SetMonedaCambio($event.target.value);" required tabindex="1">
                          <option value=""> Seleccione Moneda</option>
                          <option *ngFor="let m of MonedasCambio" [value]="m.Id_Moneda">{{m.Nombre}}
                            ({{ m.Codigo }}) </option>
                        </select>

                        <input *ngIf="Venta" disabled name="Origen" readonly type="text"
                          class="inputfield font-size-18  form-control form-control-lg" ngModel="Pesos">
                      </div>

                      <div class="col-md-6">
                        <label class="font-size-18">
                          Forma de pago
                        </label>
                        <select class="inputfield font-size-18  form-control form-control-lg" placeholder="id_fomapago"
                          id="id_fomapago" name="id_fomapago" required [(ngModel)]="CambioModel.fomapago">
                          <!-- <option value=""> Seleccione Moneda</option> -->
                          <option *ngFor="let fp of formasPago" [value]="fp.id"> {{ fp.nombre }} </option>
                        </select>
                      </div>


                      <div class="col-md-12" *ngIf="CambioModel.fomapago == '3'">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">
                          Cupo de Tercero
                        </label>

                        {{ CambioModel.Id_Tercero.cupo | json }}
                      </div>


                      <!--ESCOGER MONEDA PARA VENTA-->
                      <div class="col-md-6">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">
                          {{ Venta ? 'Moneda que vende' : 'Moneda que entrega'}}
                        </label>
                        <select *ngIf="Venta" class="inputfield  form-control form-control-lg font-size-18"
                          placeholder="Destino" id="Destino" name="Destino" ngModel="{{ Venta === false ? '2' : '' }}"
                          (change)="SetMonedaCambio($event.target.value);" required tabindex="2">
                          <option value=""> Seleccione Moneda</option>
                          <option *ngFor="let m of MonedasCambio" [value]="m.Id_Moneda">{{m.Nombre}}
                            ({{ m.Codigo }}) </option>
                        </select>
                        <input *ngIf="!Venta" disabled name="Moneda_Destino" readonly type="text"
                          class="form-control input-font font-size-20" ngModel="{{MonedaDestino}}">

                      </div>
                    </div>
                    <div class="row">

                      <div class="col-md-4" *ngIf="!Venta">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">
                          Compra
                          <span>
                            {{ MonedaParaCambio.nombre }}
                          </span>
                        </label>
                        <input #valorCambio type="text" autocomplete="false" placeholder="Valor"
                          class="inputfield font-size-18  form-control form-control-lg" name="Valor_Origen" id="Cambia"
                          [(ngModel)]="CambioModel.Valor_Origen" (ngModelChange)="conversionMoneda('o', 'e')"
                          currencyMask [options]="{thousands: '.' , decimal: ',' ,  precision: '0' }"
                          [disabled]="HabilitarCampos" required tabindex="3">
                      </div>

                      <div class="col-md-4 mt-1" *ngIf="Venta">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">Valor en
                          pesos
                          a cambiar
                        </label>
                        <input type="text" placeholder="Entrega" name="Valor_Destino"
                          class="inputfield font-size-18  form-control form-control-lg" autocomplete="false"
                          id="Entrega" [(ngModel)]="CambioModel.Valor_Destino" currencyMask
                          [options]="{ thousands: '.' , decimal: ',' ,  precision: '2' }"
                          (ngModelChange)="conversionMoneda('d', 'l')" [disabled]="HabilitarCampos" required
                          tabindex="4">
                      </div>

                      <div class="col-md-4 mt-1">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">Tasa
                          Cambio </label>
                        <input type="text" placeholder="Tasa"
                          class="inputfield font-size-18  form-control form-control-lg" autocomplete="false"
                          id="Precio_Sugerido" name="Tasa" (blur)="conversionMoneda('o', 'e')"
                          [disabled]="HabilitarCampos" required currencyMask
                          [options]="{ thousands: '.' , decimal: ',' , precision:    (MonedaParaCambio.nombre =='Dolares') ? '0' :   '2'}"
                          tabindex="5" [(ngModel)]="CambioModel.Tasa">
                      </div>

                      <div class="col-md-4 mt-1" *ngIf="!Venta">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">Entrega
                          {{MonedaDestino}}
                        </label>
                        <input type="text" placeholder="Entrega" name="Valor_Destino"
                          class="inputfield font-size-18  form-control form-control-lg" autocomplete="false"
                          id="Entrega" [(ngModel)]="CambioModel.Valor_Destino" [disabled]="HabilitarCampos" currencyMask
                          [options]="{ thousands: '.' , decimal: ',' ,  precision: '2'}"
                          (ngModelChange)="conversionMoneda('d', 'l')" required tabindex="6">
                      </div>

                      <div class="col-md-4" *ngIf="Venta">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">Conversion de
                          peso a
                          {{ MonedaParaCambio.nombre}}</label>
                        <input #valorCambio type="text" autocomplete="false" placeholder="Valor"
                          class="inputfield font-size-18  form-control form-control-lg" name="Valor_Origen" id="Cambia"
                          [(ngModel)]="CambioModel.Valor_Origen" (ngModelChange)="conversionMoneda('o', 'e')"
                          currencyMask [options]="{ thousands: '.' , decimal: ',' ,  precision: '2'}"
                          [disabled]="HabilitarCampos" required tabindex="6">
                      </div>

                    </div>

                    <div class="row">
                      <div *ngIf="!Venta" class="col-md-6">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">Paga
                          Con</label>
                        <input id="pagocon" type="text" placeholder="Paga con"
                          class="inputfield font-size-18  form-control form-control-lg" currencyMask
                          [options]="{ thousands: '.' , decimal: ',' ,  precision: '0'}" name="Recibido"
                          (blur)="ObtenerVueltosEnCompra()" [(ngModel)]="CambioModel.Recibido"
                          [disabled]="CambioModel.Valor_Origen == '' || CambioModel.Valor_Origen == '0'" required
                          tabindex="7">
                      </div>


                      <div *ngIf="!Venta" class="col-md-6">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">Vueltos</label>
                        <input readonly type="text" placeholder="Vueltos"
                          class="inputfield font-size-18  form-control form-control-lg" currencyMask
                          [options]="{ thousands: '.' , decimal: ',' ,  precision: '2' }" name="Vueltos"
                          [(ngModel)]="CambioModel.Vueltos" required tabindex="8">
                      </div>

                      <div *ngIf="Venta" class="col-md-6">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">Paga
                          Con</label>
                        <input id="pagocon" type="text" placeholder="Paga con"
                          class="inputfield font-size-18  form-control form-control-lg" currencyMask
                          [options]="{ thousands: '.' , decimal: ',' ,  precision: '0'}" name="Recibido"
                          (blur)="ObtenerVueltos()" [(ngModel)]="CambioModel.Recibido"
                          [disabled]="CambioModel.Valor_Origen == '' || CambioModel.Valor_Origen == '0'" required
                          tabindex="7">
                      </div>


                      <div *ngIf="Venta" class="col-md-6">
                        <label class="font-size-18 {{ Venta === false ? 'text-info' : 'text-success' }}">Vueltos</label>
                        <input readonly type="text" placeholder="Vueltos"
                          class="inputfield font-size-18  form-control form-control-lg" currencyMask
                          [options]="{ thousands: '.' , decimal: ',' ,  precision: '2' }" name="Vueltos"
                          [(ngModel)]="CambioModel.Vueltos" required tabindex="8">
                      </div>

                    </div>
                  </form>
                </div>
                <div class="col-md-10" style="margin-top: 50px">
                  <button id="BotonEnviar" [disabled]="!FormMoneda.valid"
                    [swal]="{title : '¿Está Seguro?', text: 'Se dispone a guardar este cambio ', type : 'warning', showCancelButton : true , confirmButtonText: 'Si, Guardar',cancelButtonText: 'No,Dejame Comprobar!'}"
                    class="font-size-20 {{ Venta === false ? 'btn btn-primary btn-block mrg-top-10' : 'btn btn-success btn-block mrg-top-10' }}"
                    (confirm)="guardarCambio(FormMoneda,'compra')" tabindex="9">Realizar Cambio</button>
                </div>
                <div class="col-md-2" style="margin-top: 50px">
                  <button (click)="volverCambioEfectivo()"
                    class="font-size-20 {{ Venta === false ? 'btn btn-secondary btn-block mrg-top-10' : 'btn btn-secondary btn-block mrg-top-10' }}"
                    tabindex="10">
                    Volver
                  </button>
                </div>

                <div class="col-md-12">
                  <hr>
                  <h4>Información Tasas de cambio<span
                      *ngIf="NombreMonedaTasaCambio != ''">({{NombreMonedaTasaCambio}})</span></h4>
                  <table class="table table-hover table-sm table-striped text-center">
                    <thead>
                      <tr>
                        <th>Máximo </th>
                        <th>Mínimo</th>
                      </tr>
                    </thead>
                    <tbody>

                      <tr style="font-weight: bold;">
                        <td *ngIf="Venta">$ {{MonedaParaCambio.Valores.Max_Venta_Efectivo | currency: ' '}}</td>
                        <td *ngIf="Venta">$ {{MonedaParaCambio.Valores.Min_Venta_Efectivo | currency: ' '}}</td>
                        <td *ngIf="!Venta">$ {{MonedaParaCambio.Valores.Max_Compra_Efectivo | currency: ' '}}</td>
                        <td *ngIf="!Venta">$ {{MonedaParaCambio.Valores.Min_Compra_Efectivo | currency: ' '}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>


            </div>
          </div>
        </div>
        <!-- </div> -->

        <div class="card modulos" id="transferencias" style="display: none;">
          <div class="card-block">
            <ul class="list-unstyled list-info">
              <li>
                <span class="thumb-img pdd-top-10">
                  <i class="ti-control-shuffle text-primary font-size-30"></i>
                </span>
                <div class="info">
                  <b class="text-dark font-size-22">Recibos</b>
                  <p class="no-mrg-btm ">A cuentas extranjeras</p>
                </div>
              </li>
            </ul>

            <div class="my-3">
              <div class="row d-flex justify-content-center" id="transferencias1" *ngIf="Transferencia1">
                <div class="col-md-4">
                  <button (click)="CambiarVista('Transferencia')" class="btn btn-primary btn-grande "
                    style="font-size:1.5vw;">Nuevo Recibo</button>
                  <!-- <button (click)="CambiarVista('Transferencia')"
                    class="btn btn-primary btn-block mrg-top-10 btn-grande " style="font-size:2vw;">Nuevo Recibo De
                    Transferencia</button> -->
                </div>
                <div class="col-md-12">
                  <div class="card">
                    <div class="card-block">
                      <div class="tab-success">
                        <app-tablatransferenciascajero [ActualizarTabla]="ActulizarTablaRecibos.asObservable()">
                        </app-tablatransferenciascajero>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- TODO se modifica paga con, vueltos  -->
              <div class="row" id="transferencias2" *ngIf="Transferencia2" style="margin-top: 50px">
                <div class="col-md-12">
                  <form #FormTransferencia="ngForm">
                    <div class="row">
                      <div class="col-md-3">
                        <label class="transferencia font-size-18">Forma de Pago</label>
                        <select id="Forma_Pago" class="form-control font-size-18"
                          (change)="ControlarValoresSelect($event.target.value)" name="Forma_Pago"
                          [(ngModel)]="TransferenciaModel.Forma_Pago" required tabindex="1">
                          <option value="Efectivo" [selected]>Efectivo</option>
                          <option value="Credito">Credito</option>
                          <option value="Consignacion">Consignación</option>
                        </select>
                      </div>
                      <div class="col-md-3">
                        <label class="transferencia font-size-18">Recibe Para</label>
                        <select id="Tipo_Transferencia" (change)="ControlarValoresSelect($event.target.value)"
                          class="form-control font-size-18" name="Tipo_Transferencia"
                          [(ngModel)]="TransferenciaModel.Tipo_Transferencia" required tabindex="2">
                          <option value="Transferencia">Transferencia</option>
                          <option value="Cliente" *ngIf="TransferenciaModel.Forma_Pago != 'Credito'">Cliente</option>
                        </select>
                      </div>

                      <div class="col-md-3">
                        <label class="transferencia font-size-18">Moneda para el cambio</label>
                        <select id="Moneda_Transferencia" class="form-control font-size-18" name="Moneda_Transferencia"
                          [(ngModel)]="TransferenciaModel.Moneda_Destino" required
                          (change)="SetMonedaTransferencia($event.target.value)" tabindex="3">
                          <option selected value="">Seleccione moneda</option>
                          <option *ngFor="let m of MonedasTransferencia" [value]="m.Id_Moneda">{{m.Nombre}}</option>
                        </select>
                      </div>

                      <div class="col-md-3" *ngIf="ControlVisibilidadTransferencia.SelectCliente">
                        <label class="transferencia font-size-18">Seleccione Cliente</label>
                        <input type="text" class="custom-input font-size-18" name="Id_Tercero_Destino" list="clientes"
                          [(ngModel)]="TransferenciaModel.Id_Tercero_Destino" (keyup)="searchClientes($event)"
                          autocomplete="off" tabindex="4">
                        <datalist *ngIf="Clientes.length >= 0" id="clientes" class=" font-size-18">
                          <option *ngFor="let c of Clientes" [value]="c.Id_Tercero">{{c.Nombre}}</option>
                        </datalist>
                      </div>


                    </div>

                    <div id="data-container">
                      <!-- Para Credito-->
                      <div class="row" *ngIf="ControlVisibilidadTransferencia.DatosCredito">
                        <div class="col-md-12">
                          <hr class="mrg-top-10 mrg-btm-10">
                          <h5>Crédito</h5>
                          <div class="row">
                            <div class="col-md-4">
                              <label>Tercero</label>
                              <input class="form-control font-size-18" name="Id_Tercero" type="text"
                                [(ngModel)]="tercero_credito" placeholder="Nombre Tercero"
                                [ngbTypeahead]="search_tercero_credito" [resultTemplate]="rt_tercero_credito"
                                [inputFormatter]="formatter_tercero_credito"
                                (ngModelChange)="AutoCompletarTerceroCredito(tercero_credito)">
                            </div>
                            <div class="col-md-4">
                              <label>Cupo Tercero</label>
                              <input name="Cupo_T" [(ngModel)]="TransferenciaModel.Cupo_Tercero" type="text" disabled
                                class="form-control font-size-18" placeholder="Cupo disponible" currencyMask
                                [options]="{ thousands: '.' , decimal: ',' ,  precision: '4' }">
                            </div>
                            <div *ngIf="InputBolsaBolivares" class="col-md-4">
                              <label>Bolsa de Bolivares</label>
                              <input name="SaldoBolivar" [(ngModel)]="TransferenciaModel.Bolsa_Bolivares" type="text"
                                disabled class="form-control font-size-18" placeholder="Bolsa disponible" currencyMask
                                [options]="{ thousands: '.' , decimal: ',' ,  precision: '4' }">
                            </div>

                          </div>
                        </div>
                      </div>

                      <!-- Para Consignacion-->
                      <div class="row" *ngIf="ControlVisibilidadTransferencia.DatosConsignacion">
                        <div class="col-md-12">
                          <hr>
                          <h5>Consignación</h5>
                          <select class="form-control font-size-18" name="Id_Cuenta_Bancaria"
                            [(ngModel)]="TransferenciaModel.Id_Cuenta_Bancaria">
                            <option value="" selected>Seleccione Cuenta Bancaria</option>
                            <option *ngFor="let c of CuentasPersonales" [value]="c.Id_Cuenta_Bancaria">
                              {{c.Numero_Cuenta}} - {{c.Nombre_Titular}} - {{c.Tipo_de_Cuenta}}
                            </option>
                          </select>
                        </div>
                      </div>

                      <!-- Destinatarios -->
                      <div class="row" *ngIf="ControlVisibilidadTransferencia.Destinatarios">
                        <div class="col-md-12">
                          <hr class="mrg-top-10 mrg-btm-10">
                          <div class="row">
                            <div class="col-md-6">
                              <h5>Destinatarios</h5>
                            </div>
                            <div class="col-md-6" style="text-align:right;">
                              <button class="btn btn-light" (click)="AgregarDestinatarioTransferencia()">
                                Agregar Destinatario <i class="ti-plus"></i>
                              </button>
                            </div>
                          </div>

                          <div *ngFor="let destinatario of ListaDestinatarios; let i= index">
                            <div class="row">

                              <div class="col-md-2">
                                <div class="form-group">
                                  <label class="transferencia font-size-18">N. Documento
                                    <i class="ti-pencil" style="cursor:pointer;" *ngIf="destinatario.EditarVisible"
                                      (click)="EditarDest2(destinatario.Numero_Documento_Destino, 'editar cuentas', i)"></i>
                                  </label>
                                  <input type="text" class="form-control font-size-18" name="Destino_{{i}}"
                                    id="Destino_{{i}}" [(ngModel)]="destinatario.id_destinatario_transferencia"
                                    [ngbTypeahead]="search_destino2" [resultTemplate]="rt_destino"
                                    [inputFormatter]="formatterClienteCambioCompra"
                                    (ngModelChange)="AutoCompletarDestinatario(destinatario.id_destinatario_transferencia, i, ListaDestinatarios,destinatario)"
                                    (change)="AutoCompletarDestinatario(destinatario.id_destinatario_transferencia, i, ListaDestinatarios,destinatario)"
                                    (blur)="validateInputDocumentRetard(destinatario.Numero_Documento_Destino, 'crear especial', i, destinatario)"
                                    required tabindex="5">
                                  <!-- [disabled]="MonedaParaTransferencia.id == ''" -->
                                </div>
                              </div>

                              <div class="col-md-3">
                                <div class="form-group">
                                  <label class="transferencia font-size-18">Nombre</label>
                                  <input name="Nombre_Destino_{{i}}" [(ngModel)]="destinatario.Nombre_Destinatario"
                                    type="text" placeholder="Nombre" class="form-control font-size-18" readonly
                                    [disabled]="MonedaParaTransferencia.id == ''">
                                </div>
                              </div>
                              <div class="col-md-5">
                                <div class="form-group">
                                  <label class="transferencia font-size-18">Cuenta</label>
                                  <select id="Id_Destinatario_Cuenta_{{i}}" name="Id_Destinatario_Cuenta_{{i}}"
                                    [(ngModel)]="destinatario.Id_Destinatario_Cuenta" class="form-control font-size-18"
                                    autocomplete="off"
                                    (ngModelChange)="ValidarCuentaBancariaDuplicada(i, destinatario.Id_Destinatario_Cuenta)"
                                    tabindex="6">
                                    <option id="opId_Destinatario_Cuenta_{{i}}"
                                      *ngFor="let c of destinatario.Cuentas;  index as i;"
                                      [value]="c.Id_Destinatario_Cuenta" #custom>
                                      {{c.Numero_Cuenta | mask: '0000-0000-0000-0000-0000' }} {{ Apodo }} {{ c.Apodo }}
                                      {{ c.Name }} {{ Name }}
                                    </option>
                                  </select>
                                </div>
                              </div>


                              <div class="col-md-2">
                                <div class="form-group">
                                  <label class="transferencia font-size-18">
                                    <!-- {{MonedaParaTransferencia |  json }} -->
                                  </label>
                                  <div class="row">
                                    <div class="col-md-10">
                                      <input id="Valor_Transferencia_{{i}}" type="text" placeholder="Valor a Transferir"
                                        [disabled]="DeshabilitarValor" class="font-size-18 form-control alinear-derecha"
                                        name="Valor_Transferencia_{{i}}" [(ngModel)]="destinatario.Valor_Transferencia"
                                        required (blur)="ValidarValorTransferirDestinatario2($event.target.value, i)"
                                        currencyMask [options]="{ thousands: '.' , decimal: ',' ,  precision: '0'}">
                                    </div>
                                    <div class="col-md-2">
                                      <i *ngIf="i > 0" class="ti-trash" style="color:red; cursor:pointer;"
                                        (confirm)="EliminarDestinatarioTransferencia(i)"
                                        [swal]="{title : 'Eliminar Destinatario', text: '¿Está seguro de querer eliminar este destinatario?' , type : 'error', showCancelButton : true , confirmButtonText: 'Sí, eliminar',cancelButtonText: '¡No, déjame comprobar!'}">
                                      </i>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row" *ngIf="ControlVisibilidadTransferencia.DatosCambio">
                        <div class="col-md-12" *ngIf="!TransferenciaPesos">
                          <hr class="mrg-top-10 mrg-btm-10">
                          <h5>Datos del Cambio</h5>
                          <div class="row mrg-top-20">
                            <div class="col-md-4">
                              <div class="form-group text-center">
                                <label class="transferencia font-size-18">Moneda Recibida</label>
                                <label class="block-element font-weight-bold font-size-18">Pesos</label>

                              </div>
                              <div class="form-group">
                                <input *ngIf="TransferenciaModel.Bolsa_Bolivares == '0'"
                                  class="font-size-18 form-control alinear-derecha" id="Cantidad_Recibida" type="text"
                                  (blur)="CalcularCambioMoneda($event.target.value, 'por origen')" autocomplete="off"
                                  placeholder="Valor Recibido" [(ngModel)]="TransferenciaModel.Cantidad_Recibida"
                                  name="Cantidad_Recibida" required currencyMask
                                  [options]="{ thousands: '.' , decimal: ',' ,  precision: '2'}" tabindex="7">

                                <input *ngIf="TransferenciaModel.Bolsa_Bolivares != '0'"
                                  class="font-size-18 form-control alinear-derecha" id="Cantidad_Recibida" type="text"
                                  (blur)="CalcularCambioMoneda($event.target.value, 'por origen')" autocomplete="off"
                                  placeholder="Valor Recibido" [(ngModel)]="TransferenciaModel.Cantidad_Recibida"
                                  name="Cantidad_Recibida" currencyMask
                                  [options]="{ thousands: '.' , decimal: ',' ,  precision: '2'}" tabindex="7">
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group text-center">
                                <label class="transferencia font-size-18">Tasa de Cambio

                                </label>
                                <input id="Tasa_Cambio_Transferencia" type="text"
                                  class="font-size-18 form-control alinear-derecha"
                                  [disabled]="TransferenciaModel.Cantidad_Transferida == ''" name="Tasa_Cambio"
                                  [(ngModel)]="TransferenciaModel.Tasa_Cambio"
                                  (blur)="CalcularCambioMoneda($event.target.value, 'por tasa')"
                                  placeholder="Tasa cambiaria">
                              </div>
                            </div>

                            <div class="col-md-4">
                              <div class="form-group text-center">
                                <label class="transferencia font-size-18">Moneda de Transferencia
                                </label>
                                <!-- <label class="block-element font-weight-bold font-size-18">{{MonedaParaTransferencia.nombre
                                  == "" ? "Moneda" : MonedaParaTransferencia.nombre  }}</label> -->
                              </div>

                              <div class="form-group">
                                <input *ngIf="TransferenciaModel.Bolsa_Bolivares == '0'" id="Cantidad_Transferida"
                                  type="text" placeholder="Valor Transferencia"
                                  class="font-size-18 form-control alinear-derecha"
                                  [(ngModel)]="TransferenciaModel.Cantidad_Transferida" name="Cantidad_Transferida"
                                  required (blur)="CalcularCambioMoneda($event.target.value, 'por destino')"
                                  currencyMask [options]="{ thousands: '.' , decimal: ',' ,  precision: '0'}"
                                  tabindex="8">

                                <!-- <input *ngIf="TransferenciaModel.Bolsa_Bolivares != '0'" id="Cantidad_Transferida"
                                  type="text" placeholder="Valor Transferencia"
                                  class="font-size-18 form-control alinear-derecha"
                                  [(ngModel)]="TransferenciaModel.Cantidad_Transferida" name="Cantidad_Transferida"
                                  (blur)="CalcularCambioMoneda($event.target.value, 'por destino')" currencyMask
                                  [options]="{ thousands: '.' , decimal: ',' ,  precision: '4' }" tabindex="8"> -->

                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-md-12" *ngIf="TransferenciaPesos">
                          <hr class="mrg-top-10 mrg-btm-10">
                          <h5>Datos del Cambio</h5>
                          <div class="row mrg-top-20">
                            <div class="col-md-4">
                              <div class="form-group text-center">
                                <label class="transferencia font-size-18">Monto Recibido</label>
                                <input class="font-size-18 form-control alinear-derecha" id="Cantidad_Recibida"
                                  type="text" (blur)="ColocarMontoSoloPesos($event.target.value)" autocomplete="off"
                                  placeholder="Monto Recibido" [(ngModel)]="TransferenciaModel.Cantidad_Recibida"
                                  name="Cantidad_Recibida" required currencyMask
                                  [options]="{ thousands: '.' , decimal: ',' ,  precision: '0'}">
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row" *ngIf="ControlVisibilidadTransferencia.DatosRemitente">
                        <div class="col-md-12">
                          <hr class="mrg-top-10 mrg-btm-10">
                          <div class="row">
                            <div class="col-md-12" style="display:flex;align-items: center;">
                              <h5>Datos del Remitente</h5>

                              <div class="form-group pl-2 pt-1">

                              </div>
                            </div>
                          </div>
                          <div class="row mrg-top-20">
                            <div class="col-md-4">
                              <div class="form-group">

                                <label class="transferencia font-size-18" style="display:block;">Número
                                  Documento</label>
                                <input type="text" class="custom-input font-size-18" placeholder="Busqueda"
                                  name="Numero_Documento_Origen" autocomplete="off"
                                  [(ngModel)]="TransferenciaModel.Documento_Origen" [ngbTypeahead]="search_remitente2"
                                  [resultTemplate]="rt_remitente" [inputFormatter]="formatter_remitente_custom"
                                  (ngModelChange)="AutoCompletarRemitente(TransferenciaModel.Documento_Origen, i)"
                                  value="TransferenciaModel.Documento_Origen" required tabindex="9">

                                <i class="ti-pencil text-info pl-2 font-size-17" style="cursor:pointer;"
                                  *ngIf="EditRemitenteTransferencia"
                                  (click)="EditarRemitenteTransferencia(TransferenciaModel.Documento_Origen, RemitenteModalEnum.Editar_Transferencia)"
                                  id="ic_edit_remitente_transferencia"></i>

                                <i class="ti-plus text-success pl-2 font-size-17" style="cursor:pointer;"
                                  *ngIf="!EditRemitenteTransferencia"
                                  (click)="EditarRemitenteTransferencia(TransferenciaModel.Documento_Origen, RemitenteModalEnum.Crear_Transferencia)"
                                  id="ic_crear_remitente_transferencia"></i>

                              </div>
                            </div>
                            <div class="col-md-5">
                              <div class="form-group">
                                <label class="transferencia font-size-18">Nombre</label>
                                <label class="font-size-18" style="display:block;">{{TransferenciaModel.Nombre_Remitente
                                  == "" ? "Nombre Remitente" : TransferenciaModel.Nombre_Remitente}}</label>
                              </div>
                            </div>
                            <div class="col-md-3">
                              <div class="form-group">
                                <label class="transferencia font-size-18">Teléfono</label>
                                <label class="font-size-18" style="display:block;">{{TransferenciaModel.Telefono_Remitente == "" ? "Telefono
                                  Remitente" : TransferenciaModel.Telefono_Remitente}}</label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row mrg-top-20">
                        <div class="col-md-12">
                          <div class="form-group">
                            <label class="transferencia font-size-18">Observaciones</label>
                            <textarea placeholder="Observaciones" style="width: 100%;" name="Observacion_Transferencia"
                              [(ngModel)]="TransferenciaModel.Observacion_Transferencia" tabindex="10"></textarea>
                          </div>
                        </div>
                      </div>

                      <div class="row mrg-top-20">
                        <div class="col-md-10">
                          <button [disabled]="!FormTransferencia.valid || validateInputDocumentSmall.includes(true)"
                            id="BotonTransferencia" class="btn btn-primary btn-sm btn-block mrg-top-10 font-size-20"
                            [swal]="{title : '¿Está seguro?', text: 'Se dispone a registrar la transferencia' , type : 'warning', showCancelButton : true , confirmButtonText: 'Sí, guardar',cancelButtonText: '¡No, déjame comprobar!'}"
                            (confirm)="GuardarTransferencia(FormTransferencia)" tabindex="11">Guardar Transferencia
                          </button>
                        </div>
                        <div class="col-md-2">
                          <button class="btn btn-secondary btn-sm btn-block mrg-top-10 font-size-20"
                            (click)="volverReciboTransferencia(FormTransferencia)" tabindex="12">Volver</button>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card modulos" id="giros" style="display: none;">
          <div class="card-block">
            <ul class="list-unstyled list-info">
              <li>
                <span class="thumb-img pdd-top-10">
                  <i class="ti-wallet text-success font-size-30"></i>
                </span>
                <div class="info">
                  <b class="text-dark font-size-22">Giros</b>
                  <p class="no-mrg-btm ">Envío/Recepción Dinero</p>
                </div>
              </li>
            </ul>

            <div class="my-3 ">
              <div class="row d-flex justify-content-center" id="Giros1" *ngIf="Giro1">
                <div class="col-md-4">
                  <button (click)="CambiarVista('Giro')"
                    class="btn btn-success btn-block mrg-top-10 btn-grande font-size-20">
                    Nuevo Giro
                  </button>
                </div>

                <div class="col-md-12">
                  <div class="card">
                    <div class="card-block">
                      <div class="tab-success">
                        <ul class="nav nav-tabs" role="tablist">
                          <li class="nav-item" (click)="ActualizarTablasGiros()">
                            <a href="#default-tab-1" class="nav-link active" role="tab" data-toggle="tab">Giros
                              Enviados</a>
                          </li>
                          <li class="nav-item" (click)="ActualizarTablasGiros()">
                            <a href="#default-tab-2" class="nav-link " role="tab" data-toggle="tab">Giros Pagados</a>
                          </li>
                          <li class="nav-item">
                            <a href="#default-tab-3" class="nav-link" role="tab" data-toggle="tab">Buscador</a>
                          </li>
                        </ul>

                        <div class="tab-content">
                          <div role="tabpanel" class="tab-pane fade in active card-body " id="default-tab-1">

                            <h5>Últimos Giros Enviados</h5>
                            <table class="table table-striped table-sm table-bordered">
                              <thead class="rounded">
                                <tr>
                                  <th class="custom-thead">Hora</th>
                                  <th class="custom-thead">Código</th>
                                  <th class="custom-thead">Enviado Por</th>
                                  <th class="custom-thead">Cédula Destinatario</th>
                                  <th class="custom-thead">Nombre Destinatario</th>
                                  <th class="custom-thead">Valor Recibido Real</th>
                                  <th class="custom-thead">Valor Entrega</th>
                                </tr>

                                <tr>
                                  <th class="table-filters"></th>
                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Código"
                                      (change)="giroService.ConsultaFiltrada()"
                                      [(ngModel)]="giroService.FiltrosRecibidos.codigo">
                                  </th>
                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Nombre"
                                      (change)="giroService.ConsultaFiltrada()"
                                      [(ngModel)]="giroService.FiltrosRecibidos.nombreRemitente">
                                  </th>
                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Documento"
                                      (change)="giroService.ConsultaFiltrada()"
                                      [(ngModel)]="giroService.FiltrosRecibidos.documento">
                                  </th>
                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Nombre"
                                      (change)="giroService.ConsultaFiltrada()"
                                      [(ngModel)]="giroService.FiltrosRecibidos.nombreDestinatario">
                                  </th>
                                  <th class="table-filters"></th>
                                  <th class="table-filters"></th>
                                </tr>

                                <tr *ngIf="giroService.Giros.length == 0 && !Cargando">
                                  <td colspan="7" class="text-center">
                                    <i class="ti-alert font-size-20 text-warning"></i>
                                    <h4>No hay Giros para mostrar!</h4>
                                  </td>
                                </tr>

                              </thead>
                              <tbody>
                                <tr
                                  *ngFor="let Giro of giroService.Giros | paginate: {  id: 'girosRecibidos', itemsPerPage: giroService.InformacionPaginacionRecibidos.pageSize, currentPage: giroService.InformacionPaginacionRecibidos.page, totalItems: TotalItems }"
                                  [ngClass]="{'bg-anulada':Giro.Estado == 'Anulado'}">
                                  <td class="text-center">{{Giro.Fecha | date:"HH:mm" }}</td>
                                  <td class="text-center">{{Giro.Codigo}}</td>
                                  <td class="text-center">{{Giro.Nombre_Remitente | uppercase }}</td>
                                  <td class="text-center">{{Giro.Documento_Destinatario}}</td>
                                  <td class="text-center">{{Giro.Nombre_Destinatario | uppercase }} </td>
                                  <td class="text-right">{{Giro.Valor_Total | customcurrency}}</td>
                                  <td class="text-right">{{Giro.Valor_Entrega | customcurrency}}</td>
                                </tr>
                              </tbody>
                            </table>
                            <div id="paginacion-container" *ngIf=" giroService.Giros.length > 0">
                              <div class="row">
                                <div class="col-md-12">

                                  <pagination-controls id="girosRecibidos"
                                    (pageChange)="giroService.InformacionPaginacionRecibidos.page = $event "
                                    previousLabel="Anterior" nextLabel="Siguiente" responsive="true">
                                  </pagination-controls>

                                </div>

                              </div>
                            </div>
                          </div>


                          <div role="tabpanel" class="tab-pane fade card-body" id="default-tab-2">

                            <h5>Últimos Giros Recibidos</h5>
                            <table class="table table-striped table-sm table-bordered">
                              <thead class="rounded">
                                <tr>
                                  <th class="custom-thead">Hora</th>
                                  <th class="custom-thead">Código</th>
                                  <th class="custom-thead">Enviado Por</th>
                                  <th class="custom-thead">Cédula Destinatario</th>
                                  <th class="custom-thead">Nombre Destinatario</th>
                                  <th class="custom-thead">Valor Pagado</th>
                                </tr>

                                <tr>
                                  <th class="table-filters"></th>
                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Código"
                                      (change)="giroService.ConsultaFiltradaAprobados()"
                                      [(ngModel)]="giroService.FiltrosAprobados.codigo">
                                  </th>
                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Nombre"
                                      (change)="giroService.ConsultaFiltradaAprobados()"
                                      [(ngModel)]="giroService.FiltrosAprobados.nombreRemitente">
                                  </th>
                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Documento"
                                      (change)="giroService.ConsultaFiltradaAprobados()"
                                      [(ngModel)]="giroService.FiltrosAprobados.documento">
                                  </th>
                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Nombre"
                                      (change)="giroService.ConsultaFiltradaAprobados()"
                                      [(ngModel)]="giroService.FiltrosAprobados.nombreDestinatario">
                                  </th>
                                  <th class="table-filters"></th>
                                </tr>

                                <tr *ngIf="giroService.GirosAprobados.length == 0 && !Cargando">
                                  <td colspan="7" class="text-center">
                                    <i class="ti-alert font-size-20 text-warning"></i>
                                    <h4>No hay Giros para mostrar!</h4>
                                  </td>
                                </tr>

                              </thead>
                              <tbody>
                                <tr
                                  *ngFor="let Giro of giroService.GirosAprobados | paginate: {  id: 'girosAprobados', itemsPerPage: giroService.InformacionPaginacionAprobados.pageSize, currentPage: giroService.InformacionPaginacionAprobados.page, totalItems: TotalItems }">
                                  <td class="text-center">{{Giro.Fecha | date:"HH:mm" }}</td>
                                  <td class="text-center">{{Giro.Codigo}}</td>
                                  <td class="text-center">{{Giro.Nombre_Remitente}}</td>
                                  <td class="text-center">{{Giro.Documento_Destinatario}}</td>
                                  <td class="text-center">{{Giro.Nombre_Destinatario}} </td>
                                  <td class="text-center">{{Giro.Valor_Entrega | customcurrency}}</td>
                                </tr>
                              </tbody>
                            </table>
                            <div id="paginacion-container" *ngIf="giroService.GirosAprobados.length > 0">
                              <div class="row">
                                <div class="col-md-12">
                                  <pagination-controls id="girosAprobados"
                                    (pageChange)="giroService.InformacionPaginacionAprobados.page = $event "
                                    previousLabel="Anterior" nextLabel="Siguiente" responsive="true">
                                  </pagination-controls>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div role="tabpanel" class="tab-pane fade" id="default-tab-3">
                            <div class="pdd-horizon-15 pdd-vertical-20">
                              <div class="col-md-12">
                                <div class="row">
                                  <div class="col-md-11">
                                    <input type="text" class="form-control" placeholder="Buscador de cedula"
                                      [(ngModel)]="CedulaBusquedaGiro">
                                  </div>
                                  <div class="col-md-1">
                                    <button (click)="giroService.FiltrarGiroCedula(CedulaBusquedaGiro)"
                                      class="btn btn-default btn-xs" type="button" style="margin:0;">
                                      <i class="ti-search"></i>
                                    </button>
                                  </div>
                                  <div class="col-md-12" *ngIf="CargandoGiros">
                                    <div style="text-align: center; margin-top:10px; margin-bottom:10px;">
                                      <h2>CARGANDO GIROS</h2>
                                      <img src="{{RutaGifCargando}}" style="width:250px;" alt="CARGANDO">
                                    </div>
                                  </div>
                                  <div class="col-md-12" *ngIf="!CargandoGiros && giroService.GirosBuscar.length == 0">
                                    <div style="text-align: center; margin-top:10px; margin-bottom:10px;">
                                      <i class="ti-alert font-size-20 text-warning"></i>
                                      <h4>No se han encontrado giros!</h4>
                                    </div>
                                  </div>
                                </div>
                                <div class="row" *ngIf="giroService.Aparecer">
                                  <div class="col-md-12" *ngIf="!CargandoGiros && giroService.GirosBuscar.length > 0">
                                    <div class="table-responsive">
                                      <table class="table tabla-cajero">
                                        <thead>
                                          <tr>
                                            <th>Fecha</th>
                                            <th>Código</th>
                                            <th>Enviado Por</th>
                                            <th>Cédula Destinatario</th>
                                            <th>Nombre Destinatario</th>
                                            <th>Valor a Entregar</th>
                                            <th></th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr *ngFor="let Giro of giroService.GirosBuscar"
                                            class="{{Giro.Estado == 'Anulada' ? 'bg-danger text-white' : '' }} ">
                                            <td class="cell-cajero">{{Giro.Fecha | date:"dd/MM/yyyy HH:mm:ss"}}</td>
                                            <td class="cell-cajero">{{Giro.Codigo}}</td>
                                            <td class="cell-cajero">{{Giro.Nombre_Remitente}}</td>
                                            <td class="cell-cajero">{{Giro.Documento_Destinatario}}</td>
                                            <td class="cell-cajero">{{Giro.Nombre_Destinatario}}</td>
                                            <td class="cell-cajero">{{Giro.Valor_Entrega | customcurrency}}</td>
                                            <td class="cell-cajero" class="text-center">
                                              <button class="clean-btn-table" type="button"
                                                (click)="ModalVerGiro(Giro.Id_Giro)">
                                                <i class="fa fa-check text-success"></i>
                                              </button>

                                              <button *ngIf="anulado(Giro.Estado)" class="clean-btn-table" type="button"
                                                [swal]="{title:'¿Está Seguro?',text : 'Se dispone a anular este giro, esta acción no se puede revertir' , type:'warning', showCancelButton: true, confirmButtonText: 'Si, Anular', cancelButtonText:'No, Dejame Comprobar!'}"
                                                (confirm)="AnularGiro(Giro.Id_Giro)">
                                                <i class="ti-trash text-danger"></i>
                                              </button>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row" id="Giros2" *ngIf="Giro2" style="margin-top: 10px">
              <!--FORMULARIO GIRO-->
              <div class="col-md-12">
                <div class="mrg-top-30" style="min-height: 470px;">
                  <form #FormGiro="ngForm">
                    <div class="row">
                      <div class="col-md-6">
                        <!-- <button class="btn btn-sm btn-success pull-right">
                          <i class="ti ti-hand-point-up"></i>
                        </button> -->
                        <h4>Remitente</h4>
                        <hr>
                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Departamento Remitente</label>
                              <select name="Departamento_Remitente" [(ngModel)]="GiroModel.Departamento_Remitente"
                                class="form-control font-size-18"
                                (change)="Municipios_Departamento($event.target.value, 'Remitente')" required>
                                <option value="">Seleccione Departamento</option>
                                <option *ngFor="let departamento of DepartamentosGiros"
                                  [value]="departamento.Id_Departamento">{{departamento.Nombre}}</option>
                              </select>
                            </div>
                            <input type="text" class="form-control font-size-18" name="Departamento_Remitente"
                              [(ngModel)]="Departamento_Remitente" hidden readonly>
                          </div>
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Ciudad Origen</label>
                              <select class="form-control font-size-18" name="Municipio" name="Municipio_Remitente"
                                [(ngModel)]="GiroModel.Municipio_Remitente" required>
                                <option value="">Seleccione Ciudad</option>
                                <option *ngFor="let municipio of Municipios_Remitente" [value]="municipio.Id_Municipio">
                                  {{municipio.Nombre}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Número de documento
                                <i class="ti-pencil text-info pl-2 font-size-17" style="cursor:pointer;"
                                  *ngIf="EditarRemitenteGiro"
                                  (click)="EditarPersonaGiro(GiroModel.Documento_Remitente, 'remitente', 'editar desde giro')"></i>

                                <i class="ti-plus text-success pl-2 font-size-17" style="cursor:pointer;"
                                  *ngIf="CrearRemitenteGiro"
                                  (click)="EditarPersonaGiro(Remitente_Giro, 'remitente', 'crear desde giro')"></i>
                              </label>
                              <input id="DocumentoGiroRemitente" type="text" class="form-control font-size-18"
                                placeholder="Número Documento" name="Documento_Remitente" autocomplete="off"
                                [(ngModel)]="Remitente_Giro" [ngbTypeahead]="search_remitente"
                                [resultTemplate]="rt_remitente" [inputFormatter]="formatter_remitente"
                                (ngModelChange)="AutoCompletarDatosPersonalesGiro(Remitente_Giro, 'remitente')"
                                required>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Nombre Completo</label>
                              <label class="block-element font-size-18">{{GiroModel.Nombre_Remitente == '' ? "Nombre" :
                                GiroModel.Nombre_Remitente}}</label>

                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Teléfono</label>
                              <label class="block-element font-size-18">{{GiroModel.Telefono_Remitente == '' ?
                                "Telefono" : GiroModel.Telefono_Remitente}}</label>

                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <h4>Destinatario</h4>
                        <hr>
                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Departamento Destinatario</label>
                              <select [(ngModel)]="GiroModel.Departamento_Destinatario" name="Departamento_Destinatario"
                                class="form-control font-size-18"
                                (change)="Municipios_Departamento($event.target.value, 'Destinatario')" required>
                                <option value="">Seleccione Departamento</option>
                                <option *ngFor="let departamento of DepartamentosGiros"
                                  [value]="departamento.Id_Departamento">{{departamento.Nombre}}</option>
                              </select>
                            </div>
                            <input type="text" class="form-control font-size-18" name="Departamento_Destinatario"
                              [(ngModel)]="Departamento_Destinatario" hidden readonly>
                          </div>
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Ciudad Destino</label>
                              <select class="form-control font-size-18" [(ngModel)]="GiroModel.Municipio_Destinatario"
                                name="Municipio_Destinatario" required>
                                <option value="">Seleccione Ciudad</option>
                                <option *ngFor="let municipio of Municipios_Destinatario"
                                  [value]="municipio.Id_Municipio">
                                  {{municipio.Nombre}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Número de Documento
                                <i class="ti-pencil text-info pl-2 font-size-17" style="cursor:pointer;"
                                  *ngIf="EditarDestinatarioGiro"
                                  (click)="EditarPersonaGiro(GiroModel.Documento_Destinatario, 'destinatario', 'editar desde giro')"></i>

                                <i class="ti-plus text-success pl-2 font-size-17" style="cursor:pointer;"
                                  *ngIf="CrearDestinatarioGiro"
                                  (click)="EditarPersonaGiro(Destinatario_Giro, 'destinatario', 'crear desde giro')"></i>
                              </label>
                              <input id="DocumentoGiroDestinatario" type="text" class="form-control font-size-18"
                                placeholder="Número Documento" autocomplete="off" name="Documento_Destinatario"
                                [(ngModel)]="Destinatario_Giro" [ngbTypeahead]="search_remitente"
                                [resultTemplate]="rt_remitente" [inputFormatter]="formatter_remitente"
                                (ngModelChange)="AutoCompletarDatosPersonalesGiro(Destinatario_Giro, 'destinatario')"
                                required>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Nombre Completo</label>
                              <label class="block-element font-size-18">{{GiroModel.Nombre_Destinatario == '' ? "Nombre"
                                : GiroModel.Nombre_Destinatario}}</label>

                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="font-size-18">Teléfono</label>
                              <label class="block-element font-size-18">{{GiroModel.Telefono_Destinatario == '' ?
                                "Telefono" : GiroModel.Telefono_Destinatario}}</label>

                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                    <hr>
                    <h4>Datos del giro</h4>
                    <div class="row mrg-top-20">
                      <div class="col-md-3">
                        <div class="form-group">
                          <label class="font-size-18">Valor a Enviar Pesos </label>
                          <input type="text" placeholder="Precio" class="form-control text-right font-size-18"
                            name="Valor_Recibido" [(ngModel)]="GiroModel.Valor_Recibido"
                            (blur)="valorComision($event.target.value)" required currencyMask
                            [options]="{ thousands: '.' , decimal: ',' ,  precision: '4' }">
                        </div>
                      </div>
                      <div class="col-md-2">
                        <div class="form-group">
                          <label class="font-size-18">Comisión
                            <i class="text-info pl-2 font-size-15"
                              [ngClass]="{'ti-unlock':DeshabilitarComisionGiro, 'ti-lock':!DeshabilitarComisionGiro}"
                              style="cursor:pointer;" (click)="HabilitarEdicionComisionGiro()"></i>
                          </label>

                          <input type="text" placeholder="0" class="form-control text-right font-size-18"
                            name="Comision" [(ngModel)]="GiroModel.Comision" required
                            [disabled]="DeshabilitarComisionGiro" currencyMask
                            [options]="{ thousands: '.' , decimal: ',' ,  precision: '4' }"
                            (ngModelChange)="valorComision(GiroModel.Comision, true)" #Customcomision>

                        </div>

                      </div>

                      <div class="col-md-1">
                        <div class="form-group text-center">
                          <label class="font-size-18">Libre</label>
                          <input id="libre" type="checkbox" placeholder="Precio" class="form-control" name="Giro_Libre"
                            [(ngModel)]="GiroModel.Giro_Libre" (click)="valorComision($event.target.checked)">
                        </div>
                      </div>
                      <div class="col-md-2">
                        <div class="form-group">
                          <label class="font-size-18">Valor a Entregar</label>
                          <label class="block-element font-size-18">{{GiroModel.Valor_Entrega == '' ? "0" :
                            GiroModel.Valor_Entrega | customcurrency}}</label>

                        </div>
                      </div>
                      <div class="col-md-2">
                        <div class="form-group">
                          <label class="font-size-18">Total Recibido</label>
                          <label class="block-element font-size-18">{{GiroModel.Valor_Total == '' ? "0" :
                            GiroModel.Valor_Total | customcurrency}}</label>

                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <div class="form-group">
                          <label class="font-size-18">Observaciones</label>
                          <textarea placeholder="Observaciones" style="width: 100%;" name="Detalle"
                            [(ngModel)]="GiroModel.Detalle"></textarea>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="row mrg-top-20">
                  <div class="col-md-10">
                    <button type="button"
                      [swal]="{title : '¿Está seguro?', text: 'Se dispone a guardar este giro' , type : 'warning', showCancelButton : true , confirmButtonText: 'Sí, guardar',cancelButtonText: '¡No, déjame comprobar!'}"
                      (confirm)="RealizarGiro(FormGiro)" [disabled]="!FormGiro.valid"
                      class="btn btn-primary btn-sm btn-block  font-size-20">Hacer
                      Giro</button>
                  </div>
                  <div class="col-md-2">
                    <button class="btn btn-secondary btn-sm btn-block  font-size-20"
                      (click)="volverReciboGiro()">Volver</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card modulos" id="traslados" style="display: none;">
          <div class="card-block">
            <ul class="list-unstyled list-info">
              <li>
                <span class="thumb-img pdd-top-10">
                  <i class="ti-reload text-info font-size-30"></i>
                </span>
                <div class="info">
                  <b class="text-dark font-size-22">Traslados</b>
                  <p class="no-mrg-btm">Entre Cajas de la Empresa</p>
                </div>
              </li>
            </ul>
            <div class="row d-flex justify-content-center" id="Traslados1" *ngIf="Traslado1">
              <div class="col-md-4">
                <button (click)="CambiarVista('Traslado')"
                  class="btn btn-info btn-block mrg-top-10 btn-grande  font-size-20">
                  Nuevo Traslado
                </button>
              </div>

              <div class="col-md-12">
                <div class="card">
                  <div class="card-block">
                    <div class="tab-info center-tabs">
                      <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                          <a href="#traslado-tab-1" class="nav-link active" role="tab" data-toggle="tab">Enviados</a>
                        </li>
                        <li class="nav-item">
                          <a href="#traslado-tab-2" class="nav-link" role="tab" data-toggle="tab">Recibidos</a>
                        </li>
                      </ul>
                      <div class="tab-content">
                        <div role="tabpanel" class="tab-pane fade in active mb-3" id="traslado-tab-1">

                          <h5 class="mt-3">Últimos Traslados Enviados</h5>
                          <table class="table table-striped table-sm table-bordered">
                            <thead class="rounded">

                              <th class="custom-thead">Hora</th>
                              <th class="custom-thead">Código</th>
                              <th class="custom-thead">Enviado a</th>
                              <th class="custom-thead">Valor</th>
                              <th class="custom-thead">Moneda</th>
                              <th class="custom-thead">Estado</th>
                              <th class="custom-thead">Acciones</th>
                            </thead>

                            <tr>
                              <th class="table-filters"></th>
                              <th class="table-filters">
                                <input type="text" class="form-control" placeholder="Filtro Código"
                                  (change)="_trasladosCustomService.ConsultaFiltrada()"
                                  [(ngModel)]="_trasladosCustomService.Filtros.codigo">
                              </th>
                              <th class="table-filters">
                                <input type="text" class="form-control" placeholder="Filtro Nombre"
                                  (change)="_trasladosCustomService.ConsultaFiltrada()"
                                  [(ngModel)]="_trasladosCustomService.Filtros.destinatario">
                              </th>

                              <th class="table-filters"></th>

                              <th class="table-filters">
                                <input type="text" class="form-control" placeholder="Filtro Moneda"
                                  (change)="_trasladosCustomService.ConsultaFiltrada()"
                                  [(ngModel)]="_trasladosCustomService.Filtros.moneda">
                              </th>

                              <th class="table-filters">
                                <select class="form-control form-control-sm"
                                  (change)="_trasladosCustomService.ConsultaFiltrada()"
                                  [(ngModel)]="_trasladosCustomService.Filtros.estado">
                                  <option value="">Todos</option>
                                  <option value="Anulado">Anulado</option>
                                  <option value="Aprobado">Aprobado</option>
                                  <option value="Negado">Negado</option>
                                  <option value="Pendiente">Pendiente</option>
                                </select>
                              </th>
                              <th class="table-filters"></th>
                            </tr>
                            <!-- //TODO: verificar cargandos no funcionan   -->
                            <!-- <tr *ngIf="Cargando">
                              <td colspan="8" class="text-center">
                                <div style="text-align: center; margin-top:10px; margin-bottom:10px;">
                                  <h2>CARGANDO RECIBOS DE TRANSFERENCIA</h2>
                                  <img src="{{RutaGifCargando}}" style="width:250px;" alt="CARGANDO">
                                </div>
                              </td>
                            </tr> -->

                            <tr *ngIf="_trasladosCustomService.Traslados.length == 0 ">
                              <td colspan="7" class="text-center">
                                <i class="ti-alert font-size-20 text-warning"></i>
                                <h4>No hay Traslados para mostrar!</h4>
                              </td>
                            </tr>


                            <tbody>
                              <tr
                                *ngFor="let Traslado of _trasladosCustomService.Traslados   | paginate: {  id: 'trasladosEnviados', itemsPerPage:_trasladosCustomService.pageSize, currentPage:_trasladosCustomService.page, totalItems: TotalItems } "
                                [ngClass]="{'bg-anulada':Traslado.Estado == 'Negado' || Traslado.Estado == 'Anulado', 'bg-selected':Traslado.Estado == 'Aprobado'}">
                                <td class="text-center">{{Traslado.Fecha_Traslado | date:"HH:mm" }}</td>
                                <td class="text-center">{{Traslado.Codigo}}</td>
                                <td class="text-center">{{Traslado.Cajero_Destino | uppercase }}</td>
                                <td class="text-right">{{Traslado.Valor | customcurrency:Traslado.Codigo_Moneda}}
                                </td>
                                <td class="text-center">{{Traslado.Moneda }}</td>
                                <td class="cell-cajero" class="text-center">
                                  <label>{{Traslado.Estado}}</label>
                                </td>
                                <td class="text-center" *ngIf="Traslado.Estado == 'Pendiente'">
                                  <button class="btn btn-default btn-xs" type="button" style="margin:0;"
                                    (click)="editarTraslado(Traslado.Id_Traslado_Caja)">
                                    <i class="ti-pencil"></i>
                                  </button>
                                  <button class="btn btn-default btn-xs" type="button" style="margin:0;"
                                    [swal]="{title:'¿Está Seguro?',text : 'Se dispone a anular este traslado' , type:'warning', showCancelButton: true, confirmButtonText: 'Si, Anular', cancelButtonText:'No, Dejame Comprobar!'}"
                                    (confirm)="decisionTraslado(Traslado.Id_Traslado_Caja,'Anulado')">
                                    <i class="ti-trash text-danger"></i>
                                  </button>
                                </td>
                                <td class="text-center" *ngIf="Traslado.Estado != 'Pendiente'">
                              </tr>
                            </tbody>
                          </table>
                          <div id="paginacion-container" *ngIf="_trasladosCustomService.Traslados.length > 0">
                            <div class="row">

                              <div class="col-md-12">
                                <pagination-controls id="trasladosEnviados"
                                  (pageChange)="_trasladosCustomService.page = $event " previousLabel="Anterior"
                                  nextLabel="Siguiente" responsive="true"></pagination-controls>
                              </div>

                            </div>
                          </div>

                        </div>

                        <div role="tabpanel" class="tab-pane fade" id="traslado-tab-2">
                          <div class="pdd-horizon-15 pdd-vertical-20">

                            <h5>Últimos Traslados Recibidos</h5>
                            <table class="table table-striped table-sm table-bordered">
                              <thead class="rounded">
                                <tr>
                                  <th class="custom-thead">Hora</th>
                                  <th class="custom-thead">Código</th>
                                  <th class="custom-thead">Enviado por</th>
                                  <th class="custom-thead">Valor</th>
                                  <th class="custom-thead">Moneda</th>
                                  <th class="custom-thead">Estado</th>
                                  <th class="custom-thead">Acciones</th>
                                </tr>
                                <tr>

                                <tr>
                                  <th class="table-filters"></th>
                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Código"
                                      (change)="_trasladosCustomService.ConsultaFiltradaRecibidos()"
                                      [(ngModel)]="_trasladosCustomService.Filtros.codigo">
                                  </th>
                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Nombre"
                                      (change)="_trasladosCustomService.ConsultaFiltradaRecibidos()"
                                      [(ngModel)]="_trasladosCustomService.Filtros.destinatario">
                                  </th>

                                  <th class="table-filters"></th>

                                  <th class="table-filters">
                                    <input type="text" class="form-control" placeholder="Filtro Moneda"
                                      (change)="_trasladosCustomService.ConsultaFiltradaRecibidos()"
                                      [(ngModel)]="_trasladosCustomService.Filtros.moneda">
                                  </th>

                                  <th class="table-filters">
                                    <select class="form-control form-control-sm"
                                      (change)="_trasladosCustomService.ConsultaFiltradaRecibidos()"
                                      [(ngModel)]="_trasladosCustomService.Filtros.estado">
                                      <option value="">Todos</option>
                                      <option value="Anulado">Anulado</option>
                                      <option value="Aprobado">Aprobado</option>
                                      <option value="Negado">Negado</option>
                                      <option value="Pendiente">Pendiente</option>
                                    </select>
                                  </th>
                                  <th class="table-filters"></th>
                                </tr>

                                <!-- <tr *ngIf="Cargando">
                                  <td colspan="8" class="text-center">
                                    <div style="text-align: center; margin-top:10px; margin-bottom:10px;">
                                      <h2>CARGANDO RECIBOS DE TRANSFERENCIA</h2>
                                      <img src="{{RutaGifCargando}}" style="width:250px;" alt="CARGANDO">
                                    </div>
                                  </td>
                                </tr> -->

                                <tr *ngIf="_trasladosCustomService.TrasladosRecibidos.length == 0 ">
                                  <td colspan="7" class="text-center">
                                    <i class="ti-alert font-size-20 text-warning"></i>
                                    <h4>No hay Traslados para mostrar!</h4>
                                  </td>
                                </tr>
                              </thead>
                              <tbody>
                                <tr
                                  *ngFor="let Traslado of _trasladosCustomService.TrasladosRecibidos| paginate: {  id: 'trasladosRecibidos', itemsPerPage:_trasladosCustomService.pageSizeRecibidos, currentPage:_trasladosCustomService.pageRecibidos, totalItems: TotalItemsRecibidos }"
                                  [ngClass]="{'bg-anulada':Traslado.Estado == 'Negado' || Traslado.Estado == 'Anulado', 'bg-selected':Traslado.Estado == 'Aprobado'}">
                                  <td class="text-center">{{Traslado.Fecha_Traslado | date:"HH:mm" }}</td>
                                  <td class="text-center">{{Traslado.Codigo}}</td>
                                  <td class="text-center">{{Traslado.Cajero_Origen}}</td>
                                  <td class="text-right">{{Traslado.Valor | customcurrency:Traslado.Codigo_Moneda}}
                                  </td>
                                  <td class="text-center">{{Traslado.Moneda }}</td>
                                  <td class="cell-cajero" class="text-center">
                                    <label>{{Traslado.Estado}}</label>
                                  </td>
                                  <td class="text-center" *ngIf="Traslado.Estado == 'Pendiente'">
                                    <button class="btn btn-default btn-xs" type="button" style="margin:0;"
                                      [swal]="{title:'¿Está Seguro?',text : 'Se dispone a aprobar este traslado' , type:'warning', showCancelButton: true, confirmButtonText: 'Si, Aprobar', cancelButtonText:'No, Dejame Comprobar!'}"
                                      (confirm)="decisionTraslado(Traslado.Id_Traslado_Caja,'Aprobado')">
                                      <i class="fa fa-check"></i>
                                    </button>

                                    <!-- <button class="btn btn-default btn-xs" type="button" style="margin:0;"
                                      [swal]="{title:'¿Está Seguro?',text : 'Se dispone a negar este traslado' , type:'warning', showCancelButton: true, confirmButtonText: 'Si, Negar', cancelButtonText:'No, Dejame Comprobar!'}"
                                      (confirm)="decisionTraslado(Traslado.Id_Traslado_Caja,'Negado')">
                                      <i class="ti-trash text-danger"></i>
                                    </button> -->
                                  </td>
                                  <td class="text-center" *ngIf="Traslado.Estado != 'Pendiente'">

                                  </td>
                                </tr>
                              </tbody>

                            </table>

                            <div id="paginacion-container"
                              *ngIf="_trasladosCustomService.TrasladosRecibidos.length > 0">
                              <div class="row">
                                <div class="col-md-12">
                                  <pagination-controls id="trasladosRecibidos"
                                    (pageChange)="_trasladosCustomService.pageRecibidos = $event "
                                    previousLabel="Anterior" nextLabel="Siguiente" responsive="true">
                                  </pagination-controls>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row" id="Traslados2" *ngIf="Traslado2" style="margin-top: 10px">
              <!--FORMULARIOS-->
              <div class="col-md-12">
                <div class="mrg-top-30">
                  <form #FormTraslado="ngForm">
                    <h4>Datos del traslado</h4>
                    <div class="row">
                      <div class="col-md-4">
                        <div class="form-group">
                          <label class="font-size-18">Cajero Destino</label>
                          <select name="Funcionario_Destino" class="form-control font-size-18"
                            [(ngModel)]="TrasladoModel.Funcionario_Destino" required>
                            <option value="">seleccione una opción</option>
                            <option *ngFor="let ct of _trasladosCustomService.CajerosTraslados"
                              value="{{ct.Identificacion_Funcionario}}">
                              {{ct.Nombre}}
                            </option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label class="font-size-18">Moneda</label>
                          <select name="Id_Moneda" class="form-control font-size-18"
                            [(ngModel)]="TrasladoModel.Id_Moneda" (change)="SetMonedaTraslados($event.target.value)"
                            required>
                            <option value="">Seleccione una Opción</option>
                            <option *ngFor="let m of MonedasTraslados" value="{{m.Id_Moneda}}">{{m.Nombre}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label class="font-size-18">Valor {{MonedaSeleccionadaTraslado}}</label>
                          <input name="Valor" type="text" placeholder="$ 100.000"
                            class="form-control font-size-18 text-right" [(ngModel)]="TrasladoModel.Valor" required
                            currencyMask [options]="{ thousands: '.' , decimal: ',' ,  precision: '0'}">
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <div class="form-group">
                          <label>Observaciones</label>
                          <textarea placeholder="Observaciones" name="Detalle" [(ngModel)]="TrasladoModel.Detalle"
                            style="width: 100%;"></textarea>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="row mrg-top-10">
                  <div class="col-md-10">
                    <button type="button"
                      [swal]="{title : '¿Está seguro?', text: 'Se dispone a guardar este traslado' , type : 'warning', showCancelButton : true , confirmButtonText: 'Sí, guardar',cancelButtonText: '¡No, déjame comprobar!'}"
                      (confirm)="RealizarTraslado(FormTraslado,ModalTrasladoEditar)"
                      class="btn btn-primary btn-sm btn-block font-size-20" [disabled]="!FormTraslado.valid">Hacer
                      Traslado</button>
                  </div>
                  <div class="col-md-2">
                    <button class="btn btn-secondary btn-sm btn-block" (click)="volverTraslado()">Volver</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card modulos" id="otrotraslados" style="display: none;">
          <app-tablatraslados></app-tablatraslados>
        </div>

        <div class="card modulos" id="corresponsal" style="display: none;">
          <div class="card-block">
            <ul class="list-unstyled list-info">
              <li>
                <span class="thumb-img pdd-top-10">
                  <i class="ti-money text-warning font-size-30"></i>
                </span>
                <div class="info">
                  <b class="text-dark font-size-22">Corresponsales</b>
                  <p class="no-mrg-btm">Valor de corresponsales bancarios diario</p>
                </div>
              </li>
            </ul>
            <div class="row d-flex justify-content-center" id="corresponsal1" *ngIf="Corresponsal1">
              <div class="col-md-4">
                <button (click)="CambiarVista('Corresponsal')" class="btn"
                  style="color:white; background-color: #EFA92E; font-size:1.5vw;">Nuevo Registro Corresponsal</button>
              </div>

              <div class="col-md-12">
                <div class="tab-success">
                  <app-tablaregistroscorresponsalesdiarios
                    [ActualizarTabla]="ActualizarTablaCorresponsal.asObservable()">
                  </app-tablaregistroscorresponsalesdiarios>

                </div>
              </div>
            </div>

            <app-corresponsalesbancarioscajero *ngIf="Corresponsal2" [ManageView]="corresponsalView.asObservable()"
              (ActualizarRegistrosCorresponsal)="UpdateTablaCorresponsal($event)"
              (RegresarTablaRegistros)="volverCorresponsal()">
            </app-corresponsalesbancarioscajero>
          </div>
        </div>

        <div class="card modulos" id="servicios" style="display: none;">

          <div class="card-block">
            <ul class="list-unstyled list-info">
              <li>
                <span class="thumb-img pdd-top-10">
                  <i class="ti-truck text-danger font-size-30"></i>
                </span>
                <div class="info">
                  <b class="text-dark font-size-22">Servicios Externos</b>
                  <p class="no-mrg-btm">Consignaciones, Pagos, Trámites</p>
                </div>
              </li>
            </ul>
            <div class="mrg-top-10" style="min-height: 470px;">
              <div class="row d-flex justify-content-center" id="Servicios1" *ngIf="Servicio1">
                <div class="col-md-4">
                  <button (click)="CambiarVista('Servicio')"
                    class="btn btn-danger btn-block mrg-top-10 btn-grande  font-size-20">Nuevo
                    Servicio</button>
                </div>
                <div class="col-md-12">
                  <div class="card">
                    <div class="card-block">
                      <div class="tab-success">
                        <h5>Últimos Servicios Externos</h5>
                        <table class="table table-striped table-sm table-bordered">
                          <thead class="rounded">
                            <tr>
                              <th class="custom-thead">Hora</th>
                              <th class="custom-thead">Código</th>
                              <th class="custom-thead">Servicio</th>
                              <th class="custom-thead">Valor</th>
                              <th class="custom-thead">Comision</th>
                              <th class="custom-thead">Total</th>
                              <th class="custom-thead">Acciones</th>
                            </tr>
                            <tr>
                              <th class="table-filters"></th>
                              <th class="table-filters">
                                <input type="text" class="form-control" placeholder="Filtro Código"
                                  [(ngModel)]="_sexternos.Filtros.codigo" (change)="_sexternos.ConsultaFiltrada()">
                              </th>
                              <th class="table-filters">
                                <input type="text" class="form-control" placeholder="Filtro Código"
                                  [(ngModel)]="_sexternos.Filtros.servicio" (change)="_sexternos.ConsultaFiltrada()">
                              </th>
                              <th class="table-filters"></th>
                              <th class="table-filters"></th>
                              <th class="table-filters"></th>

                              <!-- //TODO: validar cargado servicios externos  -->

                              <!-- <tr *ngIf="Cargando">
                              <td colspan="8" class="text-center">
                                <div style="text-align: center; margin-top:10px; margin-bottom:10px;">
                                  <h2>CARGANDO SERVICIOS EXTERNOS</h2>
                                  <img src="{{RutaGifCargando}}" style="width:250px;" alt="CARGANDO">
                                </div>
                              </td>
                            </tr> -->

                            <tr *ngIf="_sexternos.Servicios.length == 0 ">
                              <td colspan="7" class="text-center">
                                <i class="ti-alert font-size-20 text-warning"></i>
                                <h4>No hay Traslados para mostrar!</h4>
                              </td>
                            </tr>
                          </thead>
                          <tbody>
                            <tr
                              *ngFor="let Servicio of _sexternos.Servicios | paginate: {  id: 'sexternos', itemsPerPage:_sexternos.pageSize, currentPage:_sexternos.page }"
                              class=" {{Servicio.Estado == 'Inactivo' ? 'bg-danger text-white' : '' }} ">
                              <td class="text-center">{{Servicio.Fecha | date:"HH:mm" }}</td>
                              <td class="text-center">{{Servicio.Codigo}}</td>
                              <td class="text-center">{{Servicio.Nombre_Servicio_Externo }}</td>
                              <td class="text-center">{{Servicio.Valor | customcurrency}}</td>
                              <td class="text-center">{{Servicio.Comision | customcurrency }}</td>
                              <td class="text-center">{{Servicio.Total | customcurrency }}</td>

                              <td class="text-center">
                                <button *ngIf="esconderAnular(Servicio.Estado)" class="btn btn-default btn-xs"
                                  type="button" style="margin:0;" (click)="editarServicio(Servicio.Id_Servicio)">
                                  <i class="ti-pencil"></i>
                                </button>

                                <button class="btn btn-default btn-xs"
                                  (confirm)="CambiarEstadoServicio(Servicio.Id_Servicio)" type="button"
                                  style="margin:0;"
                                  [swal]="{title : '¿Está Seguro?', text: 'Se dispone a cambiar el estado de este servicio externo' , type : 'warning', showCancelButton : true , confirmButtonText: 'Si, Cambiar',cancelButtonText: 'No!'}">
                                  <i
                                    [ngClass]="{'ti-trash text-danger':Servicio.Estado == 'Activo', 'ti-back-right text-success':Servicio.Estado == 'Inactivo'}"></i>
                                  {{Servicio.Estado == 'Activo' ? '' : ''}}
                                </button>
                              </td>
                            </tr>
                          </tbody>
                        </table>


                      </div>
                    </div>
                  </div>
                  <div id="paginacion-container" *ngIf="_sexternos.Servicios.length > 0">
                    <div class="row">
                      <div class="col-md-12">

                        <pagination-controls id="sexternos" (pageChange)="_sexternos.page = $event "
                          previousLabel="Anterior" nextLabel="Siguiente" responsive="true">
                        </pagination-controls>
                      </div>

                    </div>
                  </div>
                </div>
              </div>

              <div class="row" id="Servicios2" *ngIf="Servicio2" style="margin-top: 10px">
                <div class="col-md-12">

                  <!--<div class="mrg-top-30" style="min-height: 470px;">-->
                  <div class="mrg-top-30">
                    <form #FormServicio="ngForm">
                      <h4>Datos del servicio</h4>
                      <div class="row">
                        <div class="col-md-3">
                          <div class="form-group">
                            <label class="font-size-18">Servicio</label>
                            <select name="Servicio_Externo" class="form-control font-size-18"
                              [(ngModel)]="ServicioExternoModel.Servicio_Externo" required>
                              <option value="">Seleccione un Servicio</option>
                              <option *ngFor="let se of ListaServiciosExternos" value="{{se.Id_Servicio_Externo}}">
                                {{se.Nombre}}</option>
                            </select>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label class="font-size-18">Valor</label>
                            <input type="text" class="form-control text-right font-size-18" name="Valor"
                              [(ngModel)]='ServicioExternoModel.Valor' placeholder="$ 20.000"
                              (ngModelChange)="AsignarComisionServicioExterno2()" currencyMask
                              [options]="{ thousands: '.' , decimal: ',' ,  precision: '2' }" required>
                          </div>
                        </div>

                        <div class="col-md-3">
                          <div class="form-group">
                            <label class="font-size-18">Comisión</label>
                            <input name="Comision" type="text" placeholder="Comisión" class="form-control font-size-18"
                              [(ngModel)]="ServicioExternoModel.Comision" currencyMask
                              [options]="{ thousands: '.' , decimal: ',' ,  precision: '2'}"
                              [disabled]="ServicioExternoModel.Valor == ''" (blur)="AprobarCambioComision()" required>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label class="block-element font-size-18">Total en {{monedaPeso.Nombre }}</label>
                            <input name="Total" type="text" placeholder="Total" class="form-control font-size-18"
                              [(ngModel)]="Total_Servicio" disabled currencyMask
                              [options]="{ thousands: '.' , decimal: ',' ,  precision: '2'}" required>
                          </div>
                        </div>
                      </div>
                      <div class="row mrg-top-20">
                        <div class="col-md-12">
                          <div class="form-group">
                            <label class="font-size-18">Observaciones</label>
                            <textarea placeholder="Observaciones" style="width: 100%;" name="Detalle"
                              [(ngModel)]="ServicioExternoModel.Detalle"> </textarea>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>

                  <div class="row mrg-top-5">
                    <div class="col-md-10">
                      <button type="button"
                        [swal]="{title : '¿Está seguro?', text: 'Se dispone a guardar este Servicio' , type : 'warning', showCancelButton : true , confirmButtonText: 'Sí, guardar',cancelButtonText: '¡No, déjame comprobar!'}"
                        (confirm)="GuardarServicio(FormServicio,ModalServicioEditar)"
                        class="btn btn-danger btn-sm btn-block" [disabled]="!FormServicio.valid">Crear Servicio</button>
                    </div>
                    <div class="col-md-2">
                      <button class="btn btn-secondary btn-sm btn-block"
                        (click)="volverReciboServicio()">Volver</button>
                    </div>
                  </div>
                </div>
              </div>


              <!-- ******************************************************************************************************************************************************* -->

              <!-- <div class="row" id="Servicios2" *ngIf="Servicio2" style="margin-top: 10px">
                <div class="col-md-12">

                  <div class="mrg-top-30">
                    <form #FormServicio="ngForm">
                      <h4>Datos del servicio</h4>
                      <div class="row">
                        <div class="col-md-3">
                          <div class="form-group">
                            <label>Servicio</label>
                            <select name="Servicio_Externo" class="form-control"
                              [(ngModel)]="ServicioExternoModel.Servicio_Externo" required>
                              <option value="">Seleccione un Servicio</option>
                              <option *ngFor="let se of ListaServiciosExternos" value="{{se.Id_Servicio_Externo}}">
                              {{se.Nombre}}</option>
                              </select>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label>Valor</label>
                            <input type="text" class="form-control text-right" name="Valor"
                              [(ngModel)]='ServicioExternoModel.Valor' placeholder="$ 20.000"
                              (ngModelChange)="AsignarComisionServicioExterno2()" currencyMask
                              [options]="{ thousands: '.' , decimal: ',' ,  precision: '4' }" required>
                          </div>
                        </div>

                        <div class="col-md-3">
                          <div class="form-group">
                            <label>Comisión</label>
                            <input name="Comision" type="text" placeholder="Comisión" class="form-control"
                              [(ngModel)]="ServicioExternoModel.Comision" currencyMask
                              [options]="{ thousands: '.' , decimal: ',' ,  precision: '4'}"
                              [disabled]="ServicioExternoModel.Valor == ''" (blur)="AprobarCambioComision()" required>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label class="block-element">Total</label>
                            <input name="Total" type="text" placeholder="Total" class="form-control"
                              [(ngModel)]="Total_Servicio" disabled currencyMask
                              [options]="{ thousands: '.' , decimal: ',' ,  precision: '4'}" required>
                          </div>
                        </div>
                      </div>
                      <div class="row mrg-top-20">
                        <div class="col-md-12">
                          <div class="form-group">
                            <label>Observaciones</label>
                            <textarea placeholder="Observaciones" style="width: 100%;" name="Detalle"
                              [(ngModel)]="ServicioExternoModel.Detalle"> </textarea>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>

                  <div class="row mrg-top-5">
                    <div class="col-md-10">
                      <button type="button"
                        [swal]="{title : '¿Está seguro?', text: 'Se dispone a guardar este Servicio' , type : 'warning', showCancelButton : true , confirmButtonText: 'Sí, guardar',cancelButtonText: '¡No, déjame comprobar!'}"
                        (confirm)="GuardarServicio(FormServicio,ModalServicioEditar)"
                        class="btn btn-danger btn-sm btn-block" [disabled]="!FormServicio.valid">Crear Servicio</button>
                    </div>
                    <div class="col-md-2">
                      <button class="btn btn-secondary btn-sm btn-block"
                        (click)="volverReciboServicio()">Volver</button>
                    </div>
                  </div>
                </div>
              </div> -->
              <!-- ******************************************************************************************************************************************************* -->
            </div>
          </div>

        </div>

        <div class="card modulos" id="egresos" style="display: none;">
          <app-tablaegresos></app-tablaegresos>
        </div>

        <div class="card modulos" id="cajeros" style="display: none;">
          <app-tablerocajeroprincipal></app-tablerocajeroprincipal>
        </div>

      </div>
    </div>
  </div>
</div>









<!--TEMPLATES PARA LOS NGB-TYPEAHEAD-->

<ng-template #rt_destino let-r="result" let-t="term">
  <span class="f-9">{{ r.Id_Destinatario }}
    <strong>{{r.Nombre}}</strong>
  </span>
</ng-template>

<ng-template #clienteCambioCompra let-r="result" let-t="term">
  <span class="f-9">{{ r.Id_Tercero }}
    <strong>{{r.Nombre}}</strong>
  </span>
</ng-template>

<ng-template #rt_remitente let-r="result" let-t="term">
  <span class="f-9">{{ r.Id_Transferencia_Remitente }}
    <strong>{{r.Nombre}}</strong>
  </span>
</ng-template>

<ng-template #rt_cuenta let-r="result" let-t="term">
  <span class="f-9">{{ r.Numero_cuenta }}
    <strong>{{r.Nombre_Titular}}</strong>
  </span>
</ng-template>

<ng-template #rt_tercero_credito let-r="result" let-t="term">
  <span class="f-9">
    <strong>{{r.Nombre}}</strong>
  </span>
</ng-template>

<!--FIN TEMPLATES-->

<!--MODALES-->

<app-modal-basic [dialogClass]="'modal-lg'" id="ModalRemitente" #ModalRemitente>
  <div class="app-modal-header">
    <button class="btn-close"
      style="position: absolute; right: 0; background-color: transparent; color: black; font-weight: 900; text-align: center; border-style: none"
      (click)="OcultarFormularios(ModalRemitente)">X</button>
    <h4>Nuevo Remitente</h4>
  </div>
  <div class="app-modal-body" style="max-height: calc(100vh - 210px); overflow-y: auto;">
    <form #FormRemitente="ngForm">
      <div class="row">
        <div class="col-md-6">

        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>Nombre</label>
            <input type="text" placeholder="Nombre Cliente" class="form-control" name="Nombre" ngModel=""
              (focusout)="boolNombreR = true" required #nombreR="ngModel">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Teléfono</label>
            <input type="text" class="form-control" placeholder="Detalles del Destinatario" name="Telefono" ngModel=""
              (focusout)="boolTelefonoR = true" required #telefonoR="ngModel">
          </div>
        </div>
      </div>
      <hr>
    </form>
  </div>
  <div class="app-modal-footer" id="guardar">
    <div class="text-right">
      <button class="btn btn-primary btn-sm"
        [swal]="{title : '¿Está seguro?', text: 'Se dispone a registrar un remitente' , type : 'warning', showCancelButton : true , confirmButtonText: 'Sí, guardar',cancelButtonText: '¡No, déjame comprobar!'}">Guardar</button>
    </div>
  </div>
</app-modal-basic>

<app-modal-basic [dialogClass]="'modal-lg'" id="ModalHistorial" #ModalHistorial>
  <div class="app-modal-header">
    <h4>Historial Remitente</h4>
    <button type="button" class="close basic-close" (click)="ModalHistorial.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body">
    <div class="row">
      <div class="col-md-12">
        <hr>
        <h5>Últimos Movimientos del remitente</h5>
        <div class="table-responsive">
          <table class="table table-hover table-sm table-striped">
            <thead>
              <tr>
                <th style="width:60px;">Hora</th>
                <th>Código</th>
                <th>Moneda Origen</th>
                <th>Tasa de cambio</th>
                <th>Moneda Destino</th>
                <th>Valor transferencia</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let Historial of HistorialCliente">
                <td>{{Historial.Fecha }}</td>
                <td>{{Historial.Codigo }}</td>
                <td>{{Historial.Moneda_Origen }}</td>
                <td>{{Historial.Tasa_Cambio }}</td>
                <td>{{Historial.Moneda_Destino }}</td>
                <td>{{Historial.Valor_Transferencia }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</app-modal-basic>

<app-modal-basic [dialogClass]="'modal-lg'" id="ModalTrasladoEditar" #ModalTrasladoEditar>
  <div class="app-modal-header">
    <h4>Editar traslado</h4>
    <button type="button" class="close basic-close" (click)="CerrarModalTrasladoEditar()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body">
    <div class="row">
      <div class="col-md-12">
        <form #FormTrasladoEditar="ngForm">
          <h4>Datos del traslado</h4>
          <div class="row">

            <div class="col-md-4">
              <div class="form-group">
                <label class="font-size-18">Cajero Destino</label>
                <select name="Funcionario_Destino" class="form-control font-size-18"
                  [(ngModel)]="TrasladoModel.Funcionario_Destino">
                  <option value="">seleccione una opción</option>
                  <option *ngFor="let ct of _trasladosCustomService.CajerosTraslados"
                    value="{{ct.Identificacion_Funcionario}}">{{ct.Nombre}}
                  </option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label class="font-size-18">Moneda</label>
                <select name="Id_Moneda" class="form-control font-size-18" [(ngModel)]="TrasladoModel.Id_Moneda">
                  <option value="">Seleccione una Opción</option>
                  <option *ngFor="let m of MonedasTraslados" value="{{m.Id_Moneda}}">{{m.Nombre}}</option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label class="font-size-18">Valor</label>
                <input name="Valor" type="text" placeholder="$ 100.000" class="form-control font-size-18"
                  [(ngModel)]="TrasladoModel.Valor" required currencyMask
                  [options]="{ thousands: '.' , decimal: ',' ,  precision: '0'}">
              </div>
            </div>
          </div>
          <div class="row mrg-top-20">
            <div class="col-md-12">
              <div class="form-group">
                <label>Observaciones</label>
                <textarea placeholder="Observaciones" style="width: 100%;" name="Detalle"
                  [(ngModel)]="TrasladoModel.Detalle"></textarea>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="app-modal-footer">
    <div class="text-right" style="display:inline-flex;">
      <button type="button" class="btn btn-default btn-sm"
        (click)="CerrarModal(ModalTrasladoEditar, 'traslados')">Cancelar</button>
      <button type="button"
        [swal]="{title : '¿Está seguro?', text: 'Se dispone a guardar este traslado' , type : 'warning', showCancelButton : true , confirmButtonText: 'Sí, guardar',cancelButtonText: '¡No, déjame comprobar!'}"
        (confirm)="RealizarTraslado(FormTrasladoEditar,ModalTrasladoEditar)"
        class="btn btn-primary btn-sm btn-block">Editar
        Traslado</button>
    </div>

  </div>
</app-modal-basic>

<app-modal-basic [dialogClass]="'modal-lg'" id="ModalServicioEditar" #ModalServicioEditar>
  <div class="app-modal-header">
    <h4>Editar Servicio</h4>
    <button type="button" class="close basic-close" (click)="CerrarModalServicioEditar()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body">
    <div class="row">
      <div class="col-md-12">
        <form #FormServicio="ngForm">
          <div class="row">

            <div class="col-md-3">
              <div class="form-group">
                <label>Servicio</label>
                <select name="Servicio_Externo" class="form-control"
                  [(ngModel)]="ServicioExternoModel.Servicio_Externo">
                  <option value="">Seleccione un Servicio</option>
                  <option *ngFor="let se of ListaServiciosExternos" value="{{se.Id_Servicio_Externo}}">{{se.Nombre}}
                  </option>
                </select>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label>Valor</label>
                <input type="text" class="form-control" name="Valor" [(ngModel)]="ServicioExternoModel.Valor"
                  (ngModelChange)="AsignarComisionServicioExterno2()" currencyMask
                  [options]="{ thousands: '.' , decimal: ',' ,  precision: '0'}">
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label>Comisión</label>
                <input name="Comision" type="text" placeholder="Comisión" class="form-control"
                  [(ngModel)]="ServicioExternoModel.Comision" currencyMask
                  [options]="{ thousands: '.' , decimal: ',' ,  precision: '0'}"
                  [disabled]="ServicioExternoModel.Valor == ''" (blur)="AprobarCambioComision()">
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label class="block-element">Total</label>
                <input name="Total" type="text" placeholder="Total" class="form-control" [(ngModel)]="Total_Servicio"
                  disabled currencyMask [options]="{ thousands: '.' , decimal: ',' ,  precision: '0'}">

              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label>Observaciones</label>
                <textarea placeholder="Observaciones" style="width: 100%;" name="Detalle"
                  [(ngModel)]="ServicioExternoModel.Detalle"></textarea>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="app-modal-footer">
    <button type="button"
      [swal]="{title : '¿Está seguro?', text: 'Se dispone a guardar este Servicio' , type : 'warning', showCancelButton : true , confirmButtonText: 'Sí, guardar',cancelButtonText: '¡No, déjame comprobar!'}"
      (confirm)="GuardarServicio(FormServicio,ModalServicioEditar, 'edicion')"
      class="btn btn-primary btn-sm btn-block">Modificar
      Servicio</button>
  </div>
</app-modal-basic>

<app-modal-basic [dialogClass]="'modal-lg'" id="ModalAnularTransferencia" #ModalAnularTransferencia>
  <div class="app-modal-header">
    <h4>Anular Transferencia</h4>
    <button type="button" class="close basic-close" (click)="ModalAnularTransferencia.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body">
    <form #FormAnularTransferencia="ngForm">
      <div class="row">
        <div class="col-md-12">
          <input type="text" name="id" hidden ngModel="{{idTransferencia}}">
          <div class="form-group">
            <label>Motivo Anulación</label>
            <textarea placeholder="Motivo Anulacion" style="width: 100%;" name="Motivo_Anulacion"
              [(ngModel)]="MotivoAnulacionTransferencia"></textarea>
          </div>
        </div>
      </div>
      <br>
    </form>
  </div>
  <div class="app-modal-footer">
    <div class="text-right">
      <button class="btn btn-primary btn-sm"
        (click)="AnularTransferencia(idTransferencia , FormAnularTransferencia)">Anular
      </button>
    </div>
  </div>
</app-modal-basic>

<app-modal-basic [dialogClass]="'modal-lg'" id="ModalVerRecibo" #ModalVerRecibo>
  <div class="app-modal-header">
    <h4>Recibo </h4>
    <button type="button" class="close basic-close" (click)="ModalVerRecibo.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body">
    <div class="table-overflow">
      <table class="table table-hover table-sm table-striped">
        <thead>
        </thead>
        <tbody>

          <tr *ngFor="let item of EncabezadoRecibo">
            <td>Fecha</td>
            <td>{{ item.Fecha }}</td>
            <td>Tipo Transferencia </td>
            <td colspan="3" style="text-align: center;">{{ item.Forma_Pago }} - {{ item.Tipo_Transferencia
              }} </td>
          </tr>
          <tr *ngFor="let item of EncabezadoRecibo">
            <td>Total Pesos</td>
            <td>{{ item.Cantidad_Recibida | currency }}</td>
            <td>Total Bolivar</td>
            <td>{{item.Cantidad_Transferida | currency: "BsS."}}</td>
            <td>Al Cambio</td>
            <td>{{ item.Tasa_Cambio}}</td>
          </tr>
          <tr>
            <td> {{ TituloModalTransferencia }} </td>
            <td colspan="5"> {{NombreTercero}} </td>
          </tr>
          <tr>
            <td colspan="6"> </td>
          </tr>
          <tr *ngIf="itemDestinatario">
            <td colspan="6" style="text-align: center;font-weight: bold;"> Destinatarios</td>
          </tr>
          <tr *ngFor="let item1 of DestinatarioRecibo">
            <td colspan="2">{{ item1.Nombre }}</td>
            <td colspan="2">{{ item1.Numero_Cuenta }}</td>
            <td colspan="2">{{ item1.Valor_Transferencia_Bolivar | currency: "BsS." }}</td>
          </tr>
          <tr>
            <td colspan="6"> </td>
          </tr>
          <tr>
            <td colspan="6" style="text-align: center;font-weight: bold;"> Observaciones del recibo </td>
          </tr>
          <tr *ngFor="let item of EncabezadoRecibo">
            <td colspan="6">{{item.Observacion_Transferencia}}</td>
          </tr>

        </tbody>
      </table>
    </div>

  </div>
  <div class="app-modal-footer">
    <div class="text-right">

    </div>
  </div>
</app-modal-basic>

<app-modal-basic id="ModalVerCambio" #ModalVerCambio>
  <div class="app-modal-header" style="width:100%;">
    <div class="row">
      <div class="col-md-10">

        <h4>Recibo de {{verCambio.Tipo}} Cliente {{ (verCambio.Tipo == null) ? '' : verCambio.Nombre }}</h4>
      </div>
      <div class="col-md-2 pull-right">
        <!-- <button class="btn btn-default btn-xs" type="button" style="margin:0;">
          <i class="ti-printer"></i>
        </button> -->
      </div>
    </div>
  </div>
  <div class="app-modal-body">
    <div class="table-overflow">
      <table class="table table-hover table-sm table-striped modified-table">
        <thead>
        </thead>
        <tbody>
          <tr>
            <td>Código Recibo</td>
            <td>{{verCambio.Codigo}}</td>
          </tr>
          <tr>
            <td>Tipo de Cambio</td>
            <td *ngIf="verCambio.Tipo == 'Compra'">{{verCambio.Tipo}} de {{verCambio.Moneda_Origen}}</td>
            <td *ngIf="verCambio.Tipo == 'Venta'">{{verCambio.Tipo}} de {{verCambio.Moneda_Destino}}</td>
          </tr>
          <tr>
            <td>Recibo</td>
            <td>{{verCambio.Codigo_Moneda_Origen}} {{verCambio.Valor_Origen | number | puntos}} </td>
          </tr>
          <tr>
            <td>Tasa</td>
            <td>{{verCambio.Tasa}} </td>
          </tr>
          <tr>
            <td>Entrego</td>
            <td>{{verCambio.Codigo_Moneda_Destino}} {{verCambio.Valor_Destino | number | puntos}} </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
  <div class="app-modal-footer">
    <div class="text-right">
      <button class="btn btn-default" (click)="ModalVerCambio.hide()">Cerrar</button>
    </div>
  </div>
</app-modal-basic>

<app-modal-basic id="AbrirModalverDevoluciones" #AbrirModalverDevoluciones>
  <div class="app-modal-header" style="width:100%;">
    <div class="row">
      <div class="col-md-10">
        <h4>Devoluciones en Cambio </h4>
      </div>
      <div class="col-md-2 pull-right">
      </div>
    </div>
  </div>

  <div class="app-modal-body">
    <div class="table-overflow">
      <table class="table table-hover table-sm table-striped modified-table">
        <thead>
          <tr>
            <td>
              <label class="block-element">Valor entregado</label>
            </td>
            <td>
              <label class="block-element">Valor recibido</label>
            </td>
            <td>
              <label class="block-element">Observación</label>
            </td>
          </tr>
        </thead>
        <tbody *ngFor="let item of DevolucionesCambio">
          <tr>
            <td>
              <label class="block-element">{{item.valor_entregado }}</label>
            </td>
            <td>
              <label class="block-element">{{item.valor_recibido }}</label>
            </td>
            <td>
              <label class="block-element">{{item.observacion }}</label>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
  <div class="app-modal-footer">
    <div class="text-right">
      <button class="btn btn-default" (click)="AbrirModalverDevoluciones.hide()">Cerrar</button>
    </div>
  </div>
</app-modal-basic>

<app-modal-basic [dialogClass]="'modal-md'" id="ModalAperturaCaja" #ModalAperturaCaja>
  <div class="app-modal-header" style="margin: 0 auto;">
    <h4>Apertura Caja - {{funcionario_data.Nombres}} {{funcionario_data.Apellidos}}</h4>

  </div>
  <div class="app-modal-body">
    <form #FormAperturaCaja="ngForm">
      <div class="row" *ngFor="let vma of ValoresMonedasApertura; let i = index">
        <div class="col-md-12">
          <div class="form-group">
            <label><b>{{vma.Codigo}}</b></label>
            <label class="block-element">{{vma.Valor_Moneda_Cierre | customcurrency:vma.Codigo}}</label>

          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="app-modal-footer" style="margin: 0 auto;">
    <div class="text-center">
      <button id="btnGuardarValoresApertura" class="btn btn-outline-primary btn-sm"
        [swal]="{title : '¿Está Seguro?', text: 'Se va a realizar la apertura esta caja' , type : 'warning', showCancelButton : true , confirmButtonText: 'Si, Aperturar',cancelButtonText: 'No, Dejame Comprobar!'}"
        (confirm)="GuardarApertura()">Aperturar Caja
      </button>
    </div>
  </div>
</app-modal-basic>

<app-modal-basic [dialogClass]="'modal-xs'" id="ModalAprobarGiro" #ModalAprobarGiro>
  <div class="app-modal-header" style="margin: 0 auto;">
    <h4>Información Giro</h4>
    <button type="button" class="close basic-close" (click)="ModalAprobarGiro.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body">
    <h2>¿ Está seguro que desea realizar el giro ?</h2>
    <table class="table table-hover table-sm table-striped">
      <tr>
        <td>Remitente</td>
        <td>{{informacionGiro.Nombre_Remitente}}</td>
      </tr>
      <tr>
        <td>Destinatario</td>
        <td>{{informacionGiro.Nombre_Destinatario}}</td>
      </tr>
      <tr>
        <td>Valor A Entregar</td>
        <td>{{informacionGiro.Valor_Entrega | customcurrency}}</td>
      </tr>
    </table>
  </div>
  <div class="app-modal-footer" style="margin: 0 auto;">
    <div class="text-center">
      <button class="btn btn-primary btn-sm"
        (click)="PagarGiro(informacionGiro.Id_Giro,ModalAprobarGiro,informacionGiro.Documento_Destinatario)">Pagar
        Giro
      </button>
    </div>
  </div>
</app-modal-basic>

<app-modalremitente [AbrirModalEvent]="openModalGiro.asObservable()" (CargarDatosRemitente)="CargarDatos($event)"
  (IncluirRemitenteEnGiro)="CargarDatos($event)"
  (CargarDatosRemitenteTransferencia)="CargarRemitenteTransferencia($event)">
</app-modalremitente>

<app-modaldestinatario [AbrirModal]="AbrirModalDestinatario.asObservable()"
  (ActualizarCuentasDestinatario)="AsignarDatosDestinatario($event)"
  (IncluirDestinatarioEnTransferencia)="AsignarDatosDestinatario($event)">
</app-modaldestinatario>

<!-- <app-modaldevoluccion [AbrirModalDevolucion]="AbrirModalDevolucion.asObservable()" (ActualizarTabla)="ConsultaFiltrada()">
</app-modaldevoluccion> -->


<app-modal-basic id="AbrirModalDevolucion" #AbrirModalDevolucion>
  <div class="app-modal-header" style="width:100%;">

    <div class="row">
      <div class="col-md-10">

        <h4>Devolucion Cliente {{ devCambio['Nombre'] }} Recibo {{devCambio['Codigo']}}</h4>

      </div>
    </div>

  </div>
  <div class="app-modal-body">
    <div class="table-overflow">
      <table class="table table-hover table-sm  modified-table">
        <thead>
        </thead>
        <tbody>
          <tr>

            <td>Tasa</td>
            <input name="tasa" type="text" placeholder="tasa" class="form-control" [(ngModel)]="devCambio['Tasa']"
              currencyMask [options]="{ thousands: '.' , decimal: ',' ,  precision: '2'}" readonly>

          </tr>

          <tr>


            <td>Cantidad a devolver {{devCambio['Codigo_Moneda_Destino']}}</td>
            <input name="tasa" type="text" placeholder="tasa" class="form-control" (keyup)="calcularDevolucion()"
              [(ngModel)]="devCambio['Valor_Devolver']" currencyMask
              [options]="{ thousands: '.' , decimal: ',' ,  precision: '2'}">
          <tr>


            <td>Valor en {{devCambio['Codigo_Moneda_Origen']}}</td>
            <input name="tasa" type="text" placeholder="tasa" class="form-control" (keyup)="calcularDevolucion()"
              [(ngModel)]="devCambio['Valor_Devuelto']" currencyMask
              [options]="{ thousands: '.' , decimal: ',' ,  precision: '2'}">

          </tr>

          <tr>

            <td>Motivo devolución</td>
            <select id="grupo" class="form-control" [(ngModel)]="devCambio['Motivo']">
              <option value="">Seleccione</option>
              <option *ngFor="let motivo of Motivos" value="{{motivo.id}}">{{motivo.nombre }}</option>
            </select>

          </tr>

          <tr>
            <td>Observación</td>
            <textarea name="observacion" type="text" placeholder="observacion" style="width: 100%;"
              [(ngModel)]="devCambio['Observacion']"></textarea>
          </tr>

        </tbody>
      </table>
    </div>

  </div>
  <div class="app-modal-footer">
    <div class="text-right">
      <button class="btn btn-default" (click)="AbrirModalDevolucion.hide()">Cerrar</button>
      <button class="btn btn-primary" (click)="saveDevolucion()">Guardar</button>
    </div>
  </div>
</app-modal-basic>


<!-- <app-modaldevoluccion [AbrirModal]="AbrirModalAgregar.asObservable()" (ActualizarTabla)="ConsultaFiltrada()">
</app-modaldevoluccion> -->


<!--FIN MODALES-->

<!--SWEET ALERTS-->

<swal #warnSwal title="Documento invalido" text="El documento ingresado debe tener una longitud mínima de 5 números"
  type="warning">
</swal>

<swal #warnTotalSwal title="Valor invalido"
  text="El valor total de la transferencia no es suficiente para realizar las transferencias individuales."
  type="warning">
</swal>

<swal #destinatarioCreadoSwal title="El destinatario ha sido creado"
  text="Ahora podra ingresar el documento del destinatario para una nueva transferencia." type="success">
</swal>

<swal #transferenciaExitosaSwal title="La transferencia se realizo con exito"
  text="Se ha registrado exitosamente la transferencia" type="success">
</swal>

<swal #movimientoExitosoSwal title="El movimiento se realizo con exito"
  text="Se ha registrado exitosamente el movimiento" type="success">
</swal>

<swal #remitenteCreadoSwal title="El remitente a sido creado"
  text="Ahora podra ingresar el documento del remitente para una nueva transferencia." type="success">
</swal>

<swal #bancoNoIdentificadoSwal title="Número de cuenta incorrecto"
  text="El número de cuenta introducido no coincide con ninguno de los bancos en nuestra base de datos." type="warning">
</swal>

<swal #errorSwal title="Error al guardar" text="Se ha generado un error al intentar guardar el documento" type="error">
</swal>

<swal #confirmacionSwal title="" text="" type=""></swal>

<swal #alertSwal title="" html="" type="" text=""></swal>
