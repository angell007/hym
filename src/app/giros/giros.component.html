<div class="container-fluid">
    <div class="row">
        <div class="col-md-3">
            <div class="card bg-info">
                <div class="card-block" style="padding:10px;">
                    <div class="row">
                        <div class="col-md-7">
                            <h1 class="no-mrg-top font-size-30">{{conteoGiros.TotalGiros}}</h1>
                            <span class="text-white">Giros</span>
                        </div>
                        <div class="col-md-5 text-center">
                            <i class="ti-control-shuffle font-size-50 text-white"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card bg-success">
                <div class="card-block" style="padding:10px;">
                    <div class="row">
                        <div class="col-md-7">
                            <h1 class="no-mrg-top font-size-30">{{conteoGiros.GirosRealizados}}</h1>
                            <span class="text-white">Realizadas</span>
                        </div>
                        <div class="col-md-5 text-center">
                            <i class="ti-thumb-up font-size-50 text-white"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card bg-warning">
                <div class="card-block" style="padding:10px;">
                    <div class="row">
                        <div class="col-md-7">
                            <h1 class="no-mrg-top font-size-30">{{conteoGiros.GirosDevueltos}}</h1>
                            <span class="text-white">Devueltas</span>
                        </div>
                        <div class="col-md-5 text-center">
                            <i class="ti-thumb-down font-size-50 text-white"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card bg-danger">
                <div class="card-block" style="padding:10px;">
                    <div class="row">
                        <div class="col-md-7">
                            <h1 class="no-mrg-top font-size-30">{{conteoGiros.GirosAnulados}}</h1>
                            <span class="text-white">Anuladas</span>
                        </div>
                        <div class="col-md-5 text-center">
                            <i class="ti-close font-size-50 text-white"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <div class="col-md-12 card min-heigth">
                <div>
                    <div id="chartdiv" style="height: 500px;font-size: 11px;width: 100%;"></div>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="widget card">
                <div class="card-block">
                    <p>Giros realizados en nuestro Sistema</p>
                    <div class="table-overflow">
                        <table class="table table-hover table-sm table-striped" datatable [dtOptions]="dtOptions"
                            [dtTrigger]="dtTrigger">
                            <thead>
                                <tr>
                                    <th style="width:150px;">Fecha</th>
                                    <th>Oficina Origen</th>
                                    <th>Remitente</th>
                                    <th>Destinatario</th>
                                    <th style="width:80px">Monto</th>
                                    <th>Estado</th>
                                    <th style="width:130px;"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let giro of giros" class="{{giro.Estado == 'Anulada' ? 'bg-danger text-white' : '' }} ">
                                    <td>{{giro.Fecha | date:"dd/MM/yy" }}</td>
                                    <td>{{giro.Origen}}</td>
                                    <td>{{giro.Nombre_Remitente}}</td>
                                    <td>{{giro.Nombre_Destinatario}}</td>
                                    <td>{{giro.Valor_Entrega }}</td>
                                    <td>{{giro.Estado}}</td>
                                    <td class="text-center">
                                        <button class="btn btn-default btn-xs" type="button" style="margin:0;" (click)="VerGiro(giro.Id_Giro, ModalVerGiro)">
                                            <i class="ti-search"></i>
                                        </button>
                                        <button class="btn btn-default btn-xs" type="button" style="margin:0;" (click)="EditarGiro(giro.Id_Giro, ModalEditarGiro)">
                                            <i class="ti-pencil"></i>
                                        </button>
                                        <button *ngIf="anulado(giro.Estado)" class="btn btn-default btn-xs" type="button" style="margin:0;" [swal]="{title:'¿Está Seguro?',text : 'Se dispone a Anular esta Transferencia, esta acción no se puede revertir' , type:'warning', showCancelButton: true, confirmButtonText: 'Si, Eliminar', cancelButtonText:'No, Dejame Comprobar!'}"
                                            (confirm)="AnularGiro(giro.Id_Giro)">
                                            <i class="ti-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<app-modal-basic [dialogClass]="'modal-lg'" id="ModalVerGiro" #ModalVerGiro>
    <div class="app-modal-header">
        <button type="button" class="close basic-close" (click)="ModalVerGiro.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
        <h4>Ver Giro</h4>
    </div>
    <div class="app-modal-body" style="max-height: calc(100vh - 210px); overflow-y: auto;">
        <form #FormVerGiro="ngForm">
            <div class="col-md-4" hidden>
                <div class="form-group">
                    <label>Identificación</label>
                    <input name="id" readonly type="text" placeholder="Identificación" class="form-control" ngModel="{{Identificacion}}"
                        required>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Origen:</label>
                        </strong>
                        <label>{{Origen}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Remitente:</label>
                        </strong>
                        <label>{{Nombre_Remitente}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Documento Remitente:</label>
                        </strong>
                        <label>{{Documento_Remitente}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Teléfono Remitente:</label>
                        </strong>
                        <label>{{Telefono_Remitente}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Destinatario:</label>
                        </strong>
                        <label>{{Nombre_Destinatario}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Documento Destinatario:</label>
                        </strong>
                        <label>{{Documento_Destinatario}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Teléfono Destinatario:</label>
                        </strong>
                        <label>{{Telefono_Destinatario}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Valor Recibido:</label>
                        </strong>
                        <label>{{Valor_Recibido}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Valor Entrega:</label>
                        </strong>
                        <label>{{Valor_Entrega}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Comision:</label>
                        </strong>
                        <label>{{Comision}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Detalle:</label>
                        </strong>
                        <label>{{Detalle}}</label>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <strong>
                            <label>Estado:</label>
                        </strong>
                        <label>{{Estado}}</label>
                    </div>
                </div>
            </div>
        </form>
    </div>
</app-modal-basic>

<app-modal-basic [dialogClass]="'modal-lg'" id="ModalEditarGiro" #ModalEditarGiro>
    <div class="app-modal-header">
        <button type="button" class="close basic-close" (click)="ModalEditarGiro.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
        <h4>Editar Giro</h4>
    </div>
    <div class="app-modal-body" style="max-height: calc(100vh - 210px); overflow-y: auto;">
        <form #FormEditarGiro="ngForm">
            <div class="col-md-4">
                <div class="form-group" hidden>
                    <label>Identificación</label>
                    <input name="id" type="text" placeholder="Identificación" class="form-control" ngModel="{{Identificacion}}"
                        required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group" hidden>
                    <label>Identificación</label>
                    <input name="Identificacion_Funcionario" type="text" placeholder="Identificación" class="form-control"
                        ngModel="{{IdentificacionFuncionario}}" required>
                </div>
            </div>
            <!--<div class="row">
                <div class="col-md-3">
                    <div class="form-group">
                        <label>Grupo</label>
                        <select class="form-control" required name="Id_Grupo" ngModel="{{IdGrupo}}" (change)="ListaTerceros($event.target.value)"
                            (focus)="$event.target.select()" (focusout)="boolGrupo = true" required #grupoEd="ngModel">
                            <option value="">Seleccione un grupo</option>
                            <option *ngFor="let Grupo of Grupos" value="{{Grupo.Id_Grupo}}">{{Grupo.Nombre}}</option>
                        </select>
                        <div *ngIf="grupoEd.value=='' && boolGrupo==true" style="color:red">Campo inválido</div>
                        <div *ngIf="!grupoEd.value==''" style="color:green">Datos correctos!</div>
                    </div>
                </div>
            </div>-->
        </form>
    </div>
</app-modal-basic>

<swal #errorSwal title="Error al guardar" text="Se ha generado un error al intentar guardar el documento" type="error">
</swal>

<swal #saveSwal title="Documento guardado" text="Se ha guardado correctamente el documento" type="success">
</swal>

<swal #deleteSwal title="Traslado eliminado" text="Se ha Eliminado Correctamente el traslado" type="success">
</swal>