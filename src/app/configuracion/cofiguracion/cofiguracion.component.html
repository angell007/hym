<div class="container-fluid">
    <div class="page-title">
        <h4>Configuración General</h4>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-block">
                    <div class="row">
                        <div class="col-md-12">
                            <form name="myForm" #FormEditarConfiguracion="ngForm">
                                <div class="row">
                                    <div class="col-md-4" hidden>
                                        <div class="form-group">
                                            <label>Identificación</label>
                                            <input readonly name="id" type="text" placeholder="Identificación" class="form-control" ngModel="{{configuracionGeneral.Id_Configuracion}}">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <strong><label>Nombre Empresa</label></strong>
                                            <input name="Nombre_Empresa" type="text" placeholder="Nombre empresa" class="form-control" ngModel="{{configuracionGeneral.Nombre_Empresa}}">
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <strong><label>N.I.T.</label></strong>
                                            <input name="NIT" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57" placeholder="N.I.T."
                                                class="form-control" ngModel="{{configuracionGeneral.NIT}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Teléfono</label></strong>
                                            <input name="Telefono" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57" placeholder="Teléfono"
                                                class="form-control" ngModel="{{configuracionGeneral.Telefono}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Celular</label></strong>
                                            <input name="Celular" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57" placeholder="Celular"
                                                class="form-control" ngModel="{{configuracionGeneral.Celular}}">

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <strong><label>Dirección</label></strong>
                                            <input name="Direccion" type="text" placeholder="Dirección" class="form-control" ngModel="{{configuracionGeneral.Direccion}}">

                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <strong><label>Correo</label></strong>
                                            <input name="Correo" type="email" email placeholder="Correo" class="form-control" ngModel="{{configuracionGeneral.Correo}}">

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Festivos Legales</label></strong>
                                            <input name="Festivos_Legales" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                placeholder="Festivos legales" class="form-control" ngModel="{{configuracionGeneral.Festivos_Legales}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Extras Legales</label></strong>
                                            <input name="Extras_Legales" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                placeholder="Extras legales" class="form-control" ngModel="{{configuracionGeneral.Extras_Legales}}">

                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <strong><label>Llegadas tarde</label></strong>
                                            <input name="Llegadas_Tarde" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                class="form-control" ngModel="{{configuracionGeneral.Llegadas_Tarde}}">

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Hora Inicio Dia</label></strong>
                                            <input name="Hora_Inicio_Dia" type="time" placeholder="" class="form-control" ngModel="{{configuracionGeneral.Hora_Inicio_Dia}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Hora Fin Dia</label></strong>
                                            <input name="Hora_Fin_Dia" type="time" placeholder="" class="form-control" ngModel="{{configuracionGeneral.Hora_Fin_Dia}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Salario Base</label></strong>
                                            <input currencyMask name="Salario_Base" class="form-control" ngModel="{{configuracionGeneral.Salario_Base}}" [options]="{ prefix: '$ ', thousands: '.', decimal: ',' }">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Subsidio de transporte</label></strong>
                                            <input currencyMask name="Subsidio_Transporte" class="form-control" ngModel="{{configuracionGeneral.Subsidio_Transporte}}"
                                                [options]="{ prefix: '$ ', thousands: '.', decimal: ',' }">

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Hora Extra Diurna</label></strong>
                                            <input name="Hora_Extra_Diurna" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                placeholder="" class="form-control" ngModel="{{configuracionGeneral.Hora_Extra_Diurna}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Hora Extra Nocturna</label></strong>
                                            <input name="Hora_Extra_Nocturna" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                placeholder="" class="form-control" ngModel="{{configuracionGeneral.Hora_Extra_Nocturna}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Hora Extra Domingo Diurna</label></strong>
                                            <input name="Hora_Extra_Domingo_Diurna" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                placeholder="" class="form-control" ngModel="{{configuracionGeneral.Hora_Extra_Domingo_Diurna}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Hora Extra Domingo Nocturna</label></strong>
                                            <input name="Hora_Extra_Domingo_Nocturna" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                placeholder="" class="form-control" ngModel="{{configuracionGeneral.Hora_Extra_Domingo_Nocturna}}">

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Recargo Diurna</label></strong>
                                            <input name="Recargo_Diurna" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                placeholder="" class="form-control" ngModel="{{configuracionGeneral.Recargo_Diurna}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Recargo Nocturno</label></strong>
                                            <input name="Recargo_Nocturno" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                placeholder="" class="form-control" ngModel="{{configuracionGeneral.Recargo_Nocturno}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Recargo Dominical Diurna</label></strong>
                                            <input name="Recargo_Dominical_Diurna" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                placeholder="" class="form-control" ngModel="{{configuracionGeneral.Recargo_Dominical_Diurna}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Recargo Dominical Nocturno</label></strong>
                                            <input name="Recargo_Dominical_Nocturna" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                placeholder="" class="form-control" ngModel="{{configuracionGeneral.Recargo_Dominical_Nocturna}}">

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Hora inicio de la jornada nocturna</label></strong>
                                            <input name="Hora_Inicio_Noche" type="time" placeholder="" class="form-control" ngModel="{{configuracionGeneral.Hora_Inicio_Noche}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Hora fin de la jornada nocturna</label></strong>
                                            <input name="Hora_Fin_Noche" type="time" placeholder="" class="form-control" ngModel="{{configuracionGeneral.Hora_Fin_Noche}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Festivos</label></strong>
                                            <input name="Festivos" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57" placeholder=""
                                                class="form-control" ngModel="{{configuracionGeneral.Festivos}}">

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <strong><label>Libres</label></strong>
                                            <input name="Libres" type="number" step="1" min=0 onkeypress="return event.charCode >= 48 && event.charCode <= 57" placeholder=""
                                                class="form-control" ngModel="{{configuracionGeneral.Libres}}">
                                        </div>
                                    </div>
                                </div>

                                <hr>
                                <h5>Consecutivos</h5>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label>Compras</label>
                                            <p> Nombre Dian:
                                                <input name="Nombre_Dian_Compra" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Nombre_Dian_Compra}}"
                                                    required>
                                            </p>
                                            <p> Prefijo:
                                                <input name="Prefijo_Compra" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Prefijo_Compra}}"
                                                    required>
                                            </p>
                                            <p> Codigo:
                                                <input name="Codigo_Formato_Compra" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Codigo_Formato_Compra}}"
                                                    required>
                                            </p>
                                            <p> Consecutivo:
                                                <input name="Compra" type="number" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Compra}}"
                                                    readonly>
                                            </p>
                                        </div>
                                        <hr>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label>Servicios Externos</label>
                                            <p> Nombre Dian:
                                                <input name="Nombre_Dian_Servicio_Externo" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Nombre_Dian_Servicio_Externo}}"
                                                    required>
                                            </p>
                                            <p> Prefijo:
                                                <input name="Prefijo_Servicio_Externo" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Prefijo_Servicio_Externo}}"
                                                    required>
                                            </p>
                                            <p> Codigo:
                                                <input name="Codigo_Formato_Servicio_Externo" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Codigo_Formato_Servicio_Externo}}"
                                                    required>
                                            </p>
                                            <p> Consecutivo:

                                                <input name="Servicio_Externo" type="number" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Servicio_Externo}}"
                                                    required readonly>
                                            </p>
                                        </div>
                                        <hr>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label>Giros</label>
                                            <p> Nombre Dian:
                                                <input name="Nombre_Dian_Giro" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Nombre_Dian_Giro}}"
                                                    required>
                                            </p>
                                            <p> Prefijo:
                                                <input name="Prefijo_Giro" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Prefijo_Giro}}"
                                                    required>
                                            </p>
                                            <p> Codigo:
                                                <input name="Codigo_Formato_Giro" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Codigo_Formato_Giro}}"
                                                    required>
                                            </p>
                                            <p> Consecutivo:

                                                <input name="Giro" type="number" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Giro}}"
                                                    required readonly>
                                            </p>
                                        </div>
                                        <hr>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label>Egresos</label>
                                            <p> Nombre Dian:
                                                <input name="Nombre_Dian_Egresos" type="text" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Nombre_Dian_Egresos}}"
                                                    required>
                                            </p>
                                            <p> Prefijo:
                                                <input name="Prefijo_Egresos" type="text" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Prefijo_Egresos}}"
                                                    required>
                                            </p>
                                            <p> Codigo:
                                                <input name="Codigo_Formato_Egresos" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Codigo_Formato_Egresos}}"
                                                    required>
                                            </p>
                                            <p> Consecutivo:

                                                <input name="Egreso" type="number" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Egresos}}"
                                                    required readonly>
                                            </p>
                                        </div>
                                        <hr>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label>Traslados</label>
                                            <p> Nombre Dian:
                                                <input name="Nombre_Dian_Traslado" type="text" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Nombre_Dian_Traslado}}"
                                                    required>
                                            </p>
                                            <p> Prefijo:
                                                <input name="Prefijo_Traslado" type="text" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Prefijo_Traslado}}"
                                                    required>
                                            </p>
                                            <p> Codigo:
                                                <input name="Codigo_Formato_Traslado" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Codigo_Formato_Traslado}}"
                                                    required>
                                            </p>
                                            <p> Consecutivo:

                                                <input name="Traslado" type="number" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Traslado}}"
                                                    required readonly>
                                            </p>
                                        </div>
                                        <hr>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label>Transferencias</label>
                                            <p> Nombre Dian:
                                                <input name="Nombre_Dian_Transferencia" type="text" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Nombre_Dian_Transferencia}}"
                                                    required>
                                            </p>
                                            <p> Prefijo:
                                                <input name="Prefijo_Transferencia" type="text" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Prefijo_Transferencia}}"
                                                    required>
                                            </p>
                                            <p> Codigo:
                                                <input name="Codigo_Formato_Transferencia" type="text" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Codigo_Formato_Transferencia}}"
                                                    required>
                                            </p>
                                            <p> Consecutivo:

                                                <input name="Transferencia" type="number" min="0" placeholder="Ejem: 1345" class="form-control" ngModel="{{configuracionGeneral.Transferencia}}"
                                                    required readonly>
                                            </p>
                                        </div>
                                        <hr>
                                    </div>
                                </div>


                                <div class="row">
                                    <div class="col-md-12 col-xs-6">
                                        <div class="text-right mrg-top-5">
                                            <button type="submit" class="btn btn-primary" [swal]="{title : '¿Está seguro?', text: 'Se dispone a actualizar este formulario' , type : 'warning', showCancelButton : true , confirmButtonText: 'Sí, guardar',cancelButtonText: '¡No, déjeme comprobar!'}"
                                                (confirm)="GuardarConfiguracion(FormEditarConfiguracion)">Actualizar
                                                Información
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <h4>Monedas</h4>
            <div class="card">
                <div class="card-block">
                    <div class="row">
                        <div class="col-md-12">
                            <!--Accordion wrapper-->
                            <div class="accordion md-accordion" id="accordionEx" role="tablist" aria-multiselectable="true">

                                <!-- Accordion card -->
                                <div class="card" *ngFor="let Moneda of Monedas; let i = index">

                                    <!-- Card header -->
                                    <div class="card-header" role="tab" id="headingOne1">
                                        <a data-toggle="collapse" data-parent="#accordionEx" href="#collapseOne{{i}}" aria-expanded="true" aria-controls="collapseOne{{i}}">
                                            <h5 class="mb-0"> {{ Moneda.Nombre }} <i class="fa fa-angle-down rotate-icon"></i>
                                            </h5>
                                        </a>
                                    </div>

                                    <!-- Card body -->
                                    <div id="collapseOne{{i}}" class="collapse " role="tabpanel" aria-labelledby="headingOne{{i}}" data-parent="#accordionEx">
                                        <div class="card-body">
                                            <form #FormPermisosMoneda="ngForm">
                                                
                                                <div class="col-md-4" hidden>
                                                    <div class="form-group">
                                                        <label>Identificación</label>
                                                        <input name="Id_Moneda" type="text" placeholder="" class="form-control" ngModel="{{Moneda.Id_Moneda}}" readonly required>
                                                    </div>
                                                </div>

                                                <div class="row" *ngFor="let Item of Moneda.Campos; let j = index">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                                <label>{{Item.Campo}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <span class="switch switch-sm">
                                                                    <input type="checkbox" name="Diario_{{i}}_{{j}}" id="Diario_{{i}}_{{j}}"  [checked]="Item.Diario == '1' ? 'false' : ''"
                                                                      class="switch">
                                                                    <label for="Diario_{{i}}_{{j}}"></label>
                                                                  </span>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label>Funcionarios</label>
                                                            <select id="Identificacion_funcionario_{{i}}_{{j}}"  class="form-control"  required name="Identificacion_funcionario_{{i}}_{{j}}" [(ngModel)]="Item.Identificacion_Funcionario"  (change)="asignarFuncionario(Item.Id_Moneda_Valor, $event.target.value)">
                                                                <option value="">Seleccione un funcionario</option>
                                                                <option *ngFor="let Funcionario of Funcionarios" [value]="Funcionario.Identificacion_Funcionario">{{Funcionario.Nombres}}
                                                                    {{Funcionario.Apellidos}}
                                                                </option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                            </form>
                                            <div class="row">
                                                <div class="col-md-6 col-xs-6">
                                                    <div class="text-right mrg-top-5">
                                                        <button type="submit" class="btn btn-primary" (click)="GuardarMoneda(i,Moneda.Id_Moneda)">Actualizar
                                                            datos de moneda</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <!-- Accordion card -->


                            </div>
                            <!-- Accordion wrapper -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
 
<swal #errorSwal title="Error al guardar" text="Se ha generado un error al intentar guardar el documento" type="error">
</swal>

<swal #saveSwal title="Documento guardado" text="Se ha guardado correctamente el documento" type="success">
</swal>

<swal #confirmswal title="" text="" type=""></swal>